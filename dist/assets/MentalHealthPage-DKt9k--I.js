const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Zc3cuT1T.js","assets/react-vendor-BzbKlFBU.js","assets/ui-vendor-CCWSLpt1.js","assets/index-CKqTcuu5.css"])))=>i.map(i=>d[i]);
import{u as Y,j as e,c as u,o as W,p as Z,_ as ee}from"./index-Zc3cuT1T.js";import{r as A,u as se}from"./react-vendor-BzbKlFBU.js";import{i as S,X as F,aw as q,f as C,a0 as te,ax as L,ay as re,l as y,$ as U,v,az as E,A as x,aA as ae,s as f,aB as le,al as Q,U as _,aC as ie,t as O,I as $,aD as ne,aE as de,T as G,a2 as oe,D as ce}from"./ui-vendor-CCWSLpt1.js";const z=[{range:[0,4],level:"minimal",color:"green"},{range:[5,9],level:"mild",color:"blue"},{range:[10,14],level:"moderate",color:"yellow"},{range:[15,19],level:"moderately severe",color:"orange"},{range:[20,27],level:"severe",color:"red"}],B=[{range:[0,4],level:"minimal",color:"green"},{range:[5,9],level:"mild",color:"blue"},{range:[10,14],level:"moderate",color:"yellow"},{range:[15,21],level:"severe",color:"red"}];function V({assessment:l,onClose:t}){const{t:r}=Y(),[n,c]=A.useState("summary"),w=(i,h)=>h==="PHQ-9"?z.find(p=>i>=p.range[0]&&i<=p.range[1])||z[0]:h==="GAD-7"?B.find(p=>i>=p.range[0]&&i<=p.range[1])||B[0]:{level:"unknown",color:"gray"},H=i=>{switch(i.color){case"green":return{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"};case"blue":return{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"};case"yellow":return{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"};case"orange":return{bg:"bg-amber-100",text:"text-amber-800",border:"border-amber-200"};case"red":return{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"};default:return{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"}}},g=i=>{switch(i){case"low":return{bg:"bg-green-100",text:"text-green-800",icon:C};case"moderate":return{bg:"bg-yellow-100",text:"text-yellow-800",icon:x};case"high":return{bg:"bg-red-100",text:"text-red-800",icon:x};default:return{bg:"bg-gray-100",text:"text-gray-800",icon:E}}},N=i=>{if(!i)return e.jsx(E,{className:"h-5 w-5 text-gray-500"});switch(i){case"improving":return e.jsx(ae,{className:"h-5 w-5 text-green-500"});case"worsening":return e.jsx(q,{className:"h-5 w-5 text-red-500"});default:return e.jsx(E,{className:"h-5 w-5 text-blue-500"})}},b=i=>{try{return f(new Date(i),"MMMM d, yyyy")}catch{return i}},k=i=>{switch(i){case"PHQ-9":return 27;case"GAD-7":return 21;case"DASS-21":return 126;default:return 100}},M=w(l.score,l.type),D=H(M),m=g(l.risk),T=k(l.type);return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-auto scrollbar-light",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto animate-fadeIn relative scrollbar-light",children:[e.jsxs("div",{className:"sticky top-0 z-10 bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4 text-white flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"h-6 w-6 mr-3"}),e.jsxs("h2",{className:"text-xl font-bold",children:[l.type," ",r("assessmentDetail.title","Assessment Details")]})]}),e.jsx("button",{onClick:t,className:"p-1.5 hover:bg-white/20 rounded-full transition-colors","aria-label":"Close",children:e.jsx(F,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>c("summary"),className:u("px-4 py-2 rounded-lg text-sm font-medium transition-colors",n==="summary"?"bg-indigo-100 text-indigo-800":"text-gray-600 hover:bg-gray-100"),children:r("assessmentDetail.summary","Summary")}),l.responses&&l.responses.length>0&&e.jsx("button",{onClick:()=>c("responses"),className:u("px-4 py-2 rounded-lg text-sm font-medium transition-colors",n==="responses"?"bg-indigo-100 text-indigo-800":"text-gray-600 hover:bg-gray-100"),children:r("assessmentDetail.responses","Responses")}),l.notes&&e.jsx("button",{onClick:()=>c("analysis"),className:u("px-4 py-2 rounded-lg text-sm font-medium transition-colors",n==="analysis"?"bg-indigo-100 text-indigo-800":"text-gray-600 hover:bg-gray-100"),children:r("assessmentDetail.analysis","Clinical Analysis")})]})}),n==="summary"&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:r("assessmentDetail.basicInfo","Basic Information")}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-500",children:[r("assessmentDetail.type","Assessment Type"),":"]}),e.jsx("span",{className:"font-medium text-gray-900",children:l.type})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-500",children:[r("assessmentDetail.date","Date Taken"),":"]}),e.jsx("span",{className:"font-medium text-gray-900",children:b(l.date)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-500",children:[r("assessmentDetail.score","Score"),":"]}),e.jsxs("span",{className:"font-medium text-gray-900",children:[l.score,"/",T]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-gray-500",children:[r("assessmentDetail.severity","Severity"),":"]}),e.jsx("span",{className:u("px-2.5 py-0.5 rounded-full text-xs font-medium",D.bg,D.text),children:M.level})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-gray-500",children:[r("assessmentDetail.risk","Risk Level"),":"]}),e.jsx("span",{className:u("px-2.5 py-0.5 rounded-full text-xs font-medium",m.bg,m.text),children:l.risk})]})]}),l.type==="DASS-21"&&l.subScores&&e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:r("assessmentDetail.subscores","Subscores")}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-500",children:[r("assessmentDetail.depression","Depression"),":"]}),e.jsxs("span",{className:"font-medium text-gray-900",children:[l.subScores.depression,"/42"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-500",children:[r("assessmentDetail.anxiety","Anxiety"),":"]}),e.jsxs("span",{className:"font-medium text-gray-900",children:[l.subScores.anxiety,"/42"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-500",children:[r("assessmentDetail.stress","Stress"),":"]}),e.jsxs("span",{className:"font-medium text-gray-900",children:[l.subScores.stress,"/42"]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[l.mlPrediction&&e.jsxs("div",{className:"bg-indigo-50 rounded-xl p-6 border border-indigo-100",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(q,{className:"h-5 w-5 mr-2 text-indigo-600"}),r("assessmentDetail.trendAnalysis","Trend Analysis")]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"bg-white rounded-full p-3 border border-indigo-200",children:N(l.mlPrediction.trend)}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 mb-1",children:[l.mlPrediction.trend==="improving"&&r("assessmentDetail.improving","Improving"),l.mlPrediction.trend==="stable"&&r("assessmentDetail.stable","Stable"),l.mlPrediction.trend==="worsening"&&r("assessmentDetail.worsening","Needs Attention")]}),e.jsx("p",{className:"text-sm text-gray-600",children:l.mlPrediction.trend==="improving"?r("assessmentDetail.improvingText","Your scores show improvement. Continue with current strategies."):l.mlPrediction.trend==="stable"?r("assessmentDetail.stableText","Your scores are stable. Maintain consistent monitoring."):r("assessmentDetail.worseningText","Your scores indicate potential decline. Consider additional support.")}),l.mlPrediction.confidence&&e.jsxs("div",{className:"mt-2 text-xs text-indigo-600",children:[r("assessmentDetail.predictionConfidence","Prediction confidence"),": ",Math.round(l.mlPrediction.confidence*100),"%"]})]})]})]}),l.recommendations&&l.recommendations.length>0&&e.jsxs("div",{className:"bg-green-50 rounded-xl p-6 border border-green-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:r("assessmentDetail.recommendations","Recommendations")}),e.jsx("ul",{className:"space-y-2",children:l.recommendations.map((i,h)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(C,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:i})]},h))})]})]})]}),e.jsxs("div",{className:"mt-6 flex flex-wrap gap-3 justify-end",children:[e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(te,{className:"h-4 w-4 mr-2"}),r("assessmentDetail.download","Download Report")]}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),r("assessmentDetail.print","Print")]}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),r("assessmentDetail.share","Share with Provider")]})]})]}),n==="responses"&&l.responses&&e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:r("assessmentDetail.responseDetails","Response Details")}),e.jsx("div",{className:"bg-gray-50 rounded-xl border border-gray-200 overflow-hidden mb-6",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("assessmentDetail.question","Question")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("assessmentDetail.response","Response")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.responses.map((i,h)=>e.jsxs("tr",{className:h%2===0?"bg-white":"bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[i.questionText||`Question ${i.questionId}`,i.category&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-indigo-100 text-indigo-800",children:i.category})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:i.answer})})]},h))})]})}),e.jsx("div",{className:"text-sm text-gray-500 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{className:"h-4 w-4 mr-1.5"}),r("assessmentDetail.takenOn","Taken on")," ",b(l.date)]})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:()=>c("summary"),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),r("assessmentDetail.backToSummary","Back to Summary")]}),l.notes&&e.jsxs("button",{onClick:()=>c("analysis"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 transition-colors",children:[r("assessmentDetail.viewAnalysis","View Clinical Analysis"),e.jsx(v,{className:"h-4 w-4 ml-2"})]})]})]}),n==="analysis"&&l.notes&&e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:r("assessmentDetail.clinicalAnalysis","Clinical Analysis")}),e.jsx("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-5 mb-6",children:e.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm text-gray-700",children:l.notes})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:()=>c("summary"),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),r("assessmentDetail.backToSummary","Back to Summary")]}),e.jsxs("button",{onClick:()=>window.print(),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),r("assessmentDetail.print","Print Analysis")]})]})]}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 text-xs text-gray-500",children:r("assessmentDetail.disclaimer","Disclaimer: This assessment is intended for screening purposes only and does not constitute a clinical diagnosis.")})]})})}function me({isOpen:l,onClose:t,onConfirm:r,assessment:n,isDeleting:c}){return!l||!n?null:e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full transform transition-all",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4 rounded-t-xl flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center",children:[e.jsx(G,{className:"h-5 w-5 mr-2"}),"Konfirmasi Hapus Assessment"]}),e.jsx("button",{onClick:t,disabled:c,className:"p-1 rounded-full hover:bg-white/20 text-white transition-colors disabled:opacity-50",title:"Tutup",children:e.jsx(F,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start mb-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 mx-auto bg-red-100 rounded-full flex items-center justify-center mr-3",children:e.jsx(x,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Apakah Anda yakin ingin menghapus assessment ini?"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Tindakan ini tidak dapat dibatalkan. Assessment akan dihapus secara permanen dari sistem."})]})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mb-6 border border-gray-200",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Jenis Assessment:"}),e.jsx("span",{className:"text-sm text-gray-900",children:n.type})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Skor:"}),e.jsx("span",{className:"text-sm text-gray-900",children:n.score})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Tanggal:"}),e.jsx("span",{className:"text-sm text-gray-900",children:f(new Date(n.date),"dd MMM yyyy")})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Level Risiko:"}),e.jsx("span",{className:u("px-2 py-1 text-xs font-medium rounded-full",n.risk==="low"?"bg-green-100 text-green-800":n.risk==="moderate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:n.risk==="low"?"Rendah":n.risk==="moderate"?"Sedang":"Tinggi"})]})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:t,disabled:c,className:"flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Batal"}),e.jsx("button",{onClick:r,disabled:c,className:"flex-1 px-4 py-2.5 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Menghapus..."]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Hapus Assessment"]})})]})]})]})})}function pe({studentId:l}={}){const{t}=Y(),{user:r,isAdmin:n,isCounselor:c}=W(),[w,H]=A.useState(null),[g,N]=A.useState(null),[b,k]=A.useState({isOpen:!1,assessment:null}),[M,D]=A.useState(!1),m=se(),T=l||(n||c||r==null?void 0:r.userId),{assessments:i,loading:h,error:p,refetch:I}=Z({studentId:T}),d=i.map(s=>{var a;return{id:s.id,type:s.type,score:s.score,date:s.date,risk:s.risk,notes:s.notes,responses:s.responses?Object.entries(s.responses).map(([o,j])=>({questionId:parseInt(o),answer:j})):void 0,mlPrediction:s.mlInsights?{trend:s.mlInsights.severity==="severe"?"worsening":s.mlInsights.severity==="mild"?"improving":"stable",confidence:s.mlInsights.confidenceScore||.5,nextPredictedScore:void 0}:void 0,recommendations:(a=s.mlInsights)==null?void 0:a.recommendedActions,subScores:s.subScores,studentId:s.studentId}}),X=async s=>{try{await ee(()=>import("./index-Zc3cuT1T.js").then(a=>a.y),__vite__mapDeps([0,1,2,3])).then(a=>a.deleteMentalHealthAssessment(s)),await I(),console.log("✅ Assessment deleted successfully from localStorage:",s)}catch(a){console.error("❌ Error deleting assessment from localStorage:",a),await I()}},J=s=>{switch(s){case"low":return{bg:"bg-green-100",text:"text-green-800",icon:C};case"moderate":return{bg:"bg-yellow-100",text:"text-yellow-800",icon:x};case"high":return{bg:"bg-red-100",text:"text-red-800",icon:x};default:return{bg:"bg-gray-100",text:"text-gray-800",icon:x}}},P=(s,a)=>{a.stopPropagation(),k({isOpen:!0,assessment:d.find(o=>o.id===s)||null})},R=(s,a)=>{a.stopPropagation(),N(s)},K=()=>({total:d.length,phq9:d.filter(a=>a.type==="PHQ-9").length,gad7:d.filter(a=>a.type==="GAD-7").length,dass21:d.filter(a=>a.type==="DASS-21").length,atRisk:d.filter(a=>a.risk==="high").length});if(p)return e.jsx("div",{className:"p-6 max-w-6xl mx-auto",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(x,{className:"h-6 w-6 text-red-500 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-red-900",children:t("error.databaseConnection","Database Connection Error")}),e.jsx("p",{className:"text-red-700 mt-1",children:p}),e.jsx("button",{onClick:()=>I(),className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:t("actions.retry","Retry Connection")})]})]})})});if(h)return e.jsx("div",{className:"p-6 max-w-6xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"h-12 w-12 rounded-lg bg-indigo-200 mr-4"}),e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx("div",{className:"h-6 bg-indigo-200 rounded w-1/3"}),e.jsx("div",{className:"h-4 bg-indigo-100 rounded w-1/2"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((s,a)=>e.jsxs("div",{className:"h-44 bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-2/3 mb-3"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded w-full"})]},a))}),e.jsx("div",{className:"h-96 bg-white rounded-xl border border-gray-200 shadow-sm"})]})});if(n){const s=K();return e.jsxs("div",{className:"bg-gray-50 p-6 max-w-6xl mx-auto rounded-xl",children:[e.jsxs("div",{className:"mb-8 flex items-center",children:[e.jsx("div",{className:"bg-gradient-to-br from-purple-600 to-indigo-700 w-12 h-12 rounded-lg flex items-center justify-center shadow-lg mr-4",children:e.jsx(le,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600",children:t("mentalHealth.adminTitle","Mental Health Administration")}),e.jsx("p",{className:"mt-1 text-gray-500",children:t("mentalHealth.adminDescription","Monitor and manage mental health assessments across the school")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 transform transition-all duration-300 hover:shadow-md hover:border-indigo-200",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(Q,{className:"h-6 w-6 text-indigo-600"})}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:t("dashboard.assessmentOverview","Assessment Overview")})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.total}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"bg-indigo-50 px-3 py-1 rounded-full flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 mr-1.5"}),e.jsxs("span",{className:"text-xs font-medium text-indigo-700",children:["PHQ-9: ",s.phq9]})]}),e.jsxs("div",{className:"bg-purple-50 px-3 py-1 rounded-full flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500 mr-1.5"}),e.jsxs("span",{className:"text-xs font-medium text-purple-700",children:["GAD-7: ",s.gad7]})]}),e.jsxs("div",{className:"bg-blue-50 px-3 py-1 rounded-full flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mr-1.5"}),e.jsxs("span",{className:"text-xs font-medium text-blue-700",children:["DASS-21: ",s.dass21]})]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 transform transition-all duration-300 hover:shadow-md hover:border-red-200",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:e.jsx(x,{className:"h-6 w-6 text-red-600"})}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:t("mentalHealth.highRiskStudents","High Risk Students")})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.atRisk}),e.jsx("p",{className:"text-sm text-gray-600",children:t("mentalHealth.studentsRequiringAttention","Students requiring immediate attention")}),e.jsxs("button",{onClick:()=>m("/app/students"),className:"w-full flex items-center justify-end px-4 py-2 text-sm text-red-600 hover:text-red-800",children:[t("mentalHealth.viewAtRiskStudents","View at-risk students"),e.jsx(v,{className:"ml-1 h-3 w-3"})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 transform transition-all duration-300 hover:shadow-md hover:border-green-200",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(_,{className:"h-6 w-6 text-green-600"})}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:t("mentalHealth.assessmentAdministration","Assessment Admin")})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("button",{onClick:()=>{},className:"flex items-center px-4 py-2 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),t("mentalHealth.approveAssessments","Approve Assessments")]}),e.jsxs("button",{onClick:()=>{},className:"flex items-center px-4 py-2 bg-indigo-50 text-indigo-700 rounded-lg hover:bg-indigo-100 transition-colors",children:[e.jsx(ie,{className:"h-4 w-4 mr-2"}),t("mentalHealth.managePermissions","Manage Permissions")]})]})})]})]}),"        ",e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(y,{className:"h-5 w-5 text-indigo-500 mr-2"}),t("assessments.recentAssessments","Recent Assessments")]}),e.jsx("div",{className:"overflow-x-auto scrollbar-light",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t("assessments.student","Student")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t("assessments.type","Type")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t("assessments.date","Date")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t("assessments.score","Score")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t("assessments.risk","Risk")}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:t("actions.view","View")})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center",children:[e.jsx("div",{className:"mx-auto h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(x,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-base font-medium text-gray-900 mb-1",children:t("assessments.noAssessments","No assessments yet")}),e.jsx("p",{className:"text-sm text-gray-500",children:t("assessments.adminGetStarted","Encourage students to complete assessments to start monitoring mental health")})]})}):d.slice(0,10).map(a=>{const o=a.risk==="low"?"bg-green-100 text-green-800":a.risk==="moderate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800";return e.jsxs("tr",{className:"hover:bg-gray-50",children:["                          ",e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx(O,{className:"h-4 w-4 text-purple-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Student ID: ",a.studentId||"Unknown"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Assessment ID: ",a.id.slice(-8)]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:a.type})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:f(new Date(a.date),"MMM d, yyyy")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.score})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${o}`,children:t(`risk.${a.risk}`,a.risk)})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 font-medium mr-4",onClick:j=>R(a,j),children:t("actions.view","View")}),e.jsx("button",{className:"text-red-600 hover:text-red-900 font-medium",onClick:j=>P(a.id,j),children:t("actions.delete","Delete")})]})]},a.id)})})]})})]})}),"        ",e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4 flex items-start mt-6",children:[e.jsx($,{className:"h-5 w-5 text-purple-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-purple-800",children:t("mentalHealth.adminInfo","Administrator Information")}),e.jsx("p",{className:"mt-1 text-sm text-purple-700",children:t("mentalHealth.adminMessage","You have full access to all student mental health assessments. Use this data to monitor overall school mental health trends and identify students who may need additional support.")})]})]}),g&&e.jsx(V,{assessment:g,onClose:()=>N(null)}),e.jsx(me,{isOpen:b.isOpen,onClose:()=>k({isOpen:!1,assessment:null}),onConfirm:async()=>{b.assessment&&(D(!0),await X(b.assessment.id),k({isOpen:!1,assessment:null}),D(!1))},assessment:b.assessment,isDeleting:M})]})}return c?e.jsxs("div",{className:"bg-gray-50 p-6 max-w-6xl mx-auto rounded-xl",children:[e.jsxs("div",{className:"mb-8 flex items-center",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-700 w-12 h-12 rounded-lg flex items-center justify-center shadow-lg mr-4",children:e.jsx(ne,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600",children:t("mentalHealth.counselorTitle","Student Mental Health Monitoring")}),e.jsx("p",{className:"mt-1 text-gray-500",children:t("mentalHealth.counselorDescription","Monitor and support student mental health assessments")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 transform transition-all duration-300 hover:shadow-md hover:border-indigo-200 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(_,{className:"h-6 w-6 text-indigo-600"})}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:t("mentalHealth.selectStudent","Select Student")})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:t("mentalHealth.searchStudents","Search students..."),className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),e.jsx("div",{className:"mt-4 space-y-2 max-h-56 overflow-y-auto scrollbar-light",children:[1,2,3].map(s=>e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-indigo-50 cursor-pointer border border-gray-200 hover:border-indigo-200 transition-colors",onClick:()=>m(`/app/students/${s}`),children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center mr-3",children:e.jsx(O,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium",children:["Student ",s]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Class XI-A"})]}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs font-medium",children:"3 assessments"})})]},s))})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 transform transition-all duration-300 hover:shadow-md hover:border-indigo-200",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(S,{className:"h-6 w-6 text-indigo-600"})}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:t("mentalHealth.quickActions","Quick Actions")})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>m("/app/sessions"),className:"w-full flex items-center justify-between px-4 py-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(y,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:t("mentalHealth.scheduleSession","Schedule Session")})]}),e.jsx(v,{className:"h-4 w-4"})]}),e.jsxs("button",{onClick:()=>{},className:"w-full flex items-center justify-between px-4 py-3 bg-purple-50 text-purple-700 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(de,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:t("mentalHealth.assignAssessment","Assign Assessment")})]}),e.jsx(v,{className:"h-4 w-4"})]}),e.jsxs("button",{onClick:()=>{},className:"w-full flex items-center justify-between px-4 py-3 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Q,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:t("mentalHealth.viewReports","View Reports")})]}),e.jsx(v,{className:"h-4 w-4"})]})]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(y,{className:"h-5 w-5 text-indigo-500 mr-2"}),t("assessments.recentAssessments","Recent Assessments")]}),e.jsx("div",{className:"overflow-x-auto scrollbar-light",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t("assessments.student","Student")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t("assessments.type","Type")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t("assessments.date","Date")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t("assessments.score","Score")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:t("assessments.risk","Risk")}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:t("actions.view","View")})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center",children:[e.jsx("div",{className:"mx-auto h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(x,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-base font-medium text-gray-900 mb-1",children:t("assessments.noAssessments","No assessments yet")}),e.jsx("p",{className:"text-sm text-gray-500",children:t("assessments.counselorGetStarted","Students will appear here after completing assessments")})]})}):d.slice(0,10).map(s=>{const a=s.risk==="low"?"bg-green-100 text-green-800":s.risk==="moderate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800";return e.jsxs("tr",{className:"hover:bg-gray-50",children:["                          ",e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsx(O,{className:"h-4 w-4 text-indigo-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Student ID: ",s.studentId||"Unknown"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Assessment ID: ",s.id.slice(-8)]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:s.type})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:f(new Date(s.date),"MMM d, yyyy")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.score})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${a}`,children:t(`risk.${s.risk}`,s.risk)})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 font-medium mr-4",onClick:o=>R(s,o),children:t("actions.view","View")}),e.jsx("button",{className:"text-red-600 hover:text-red-900 font-medium",onClick:o=>P(s.id,o),children:t("actions.delete","Delete")})]})]},s.id)})})]})})]})}),"        ",e.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-xl p-4 flex items-start",children:[e.jsx($,{className:"h-5 w-5 text-indigo-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-indigo-800",children:t("mentalHealth.counselorInfo","Counselor Information")}),e.jsx("p",{className:"mt-1 text-sm text-indigo-700",children:t("mentalHealth.counselorMessage","Select a student to view their complete mental health profile, assign assessments, or schedule counseling sessions.")})]})]}),g&&e.jsx(V,{assessment:g,onClose:()=>N(null)})]}):e.jsxs("div",{className:"bg-gray-50 p-6 max-w-6xl mx-auto rounded-xl",children:[e.jsxs("div",{className:"mb-8 flex items-center",children:[e.jsx("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 w-12 h-12 rounded-lg flex items-center justify-center shadow-lg mr-4",children:e.jsx(S,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600",children:t("mentalHealth.title","Mental Health Dashboard")}),e.jsx("p",{className:"mt-1 text-gray-500",children:t("mentalHealth.description","Track your mental health with standardized assessments")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 transform transition-all duration-300 hover:shadow-md hover:border-indigo-200",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(Q,{className:"h-6 w-6 text-indigo-600"})}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:t("dashboard.totalAssessments","Assessment Overview")})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:d.length}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"bg-indigo-50 px-3 py-1 rounded-full flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 mr-1.5"}),e.jsxs("span",{className:"text-xs font-medium text-indigo-700",children:["PHQ-9: ",d.filter(s=>s.type==="PHQ-9").length]})]}),e.jsxs("div",{className:"bg-purple-50 px-3 py-1 rounded-full flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500 mr-1.5"}),e.jsxs("span",{className:"text-xs font-medium text-purple-700",children:["GAD-7: ",d.filter(s=>s.type==="GAD-7").length]})]}),e.jsxs("div",{className:"bg-blue-50 px-3 py-1 rounded-full flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mr-1.5"}),e.jsxs("span",{className:"text-xs font-medium text-blue-700",children:["DASS-21: ",d.filter(s=>s.type==="DASS-21").length]})]})]}),d.length>0&&e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(y,{className:"h-3.5 w-3.5 mr-1"}),t("dashboard.lastAssessment","Last assessment"),": ",f(new Date(d[0].date),"MMM d, yyyy")]})]})]}),"        ",e.jsxs("div",{className:"bg-gradient-to-br from-white to-emerald-50 p-6 rounded-xl shadow-lg border-2 border-emerald-200 transform transition-all duration-300 hover:shadow-xl hover:border-emerald-300 col-span-2 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-emerald-100 to-teal-100 rounded-full opacity-30 -mr-16 -mt-16"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-xl shadow-md",children:e.jsx(S,{className:"h-7 w-7 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Comprehensive Mental Health Assessment"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Unified evaluation combining PHQ-9, DASS-21, and GAD-7"})]})]}),e.jsx("div",{className:"bg-emerald-100 px-3 py-1 rounded-full",children:e.jsx("span",{className:"text-xs font-semibold text-emerald-700",children:"ALL-IN-ONE"})})]}),e.jsxs("div",{className:"mb-6 grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-white p-3 rounded-lg border border-purple-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500 mr-2"}),e.jsx("span",{className:"text-xs font-medium text-purple-700",children:"Depression"})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"PHQ-9 Questions"})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg border border-indigo-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-500 mr-2"}),e.jsx("span",{className:"text-xs font-medium text-indigo-700",children:"Anxiety"})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"GAD-7 Questions"})]}),e.jsxs("div",{className:"bg-white p-3 rounded-lg border border-teal-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-teal-500 mr-2"}),e.jsx("span",{className:"text-xs font-medium text-teal-700",children:"Stress"})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"DASS-21 Questions"})]})]}),e.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-emerald-50 to-teal-50 rounded-lg border border-emerald-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(C,{className:"h-5 w-5 text-emerald-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-emerald-800",children:[e.jsx("p",{className:"font-semibold mb-2",children:"🎯 Complete Mental Health Evaluation"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"• Sequential flow through all assessments"}),e.jsx("li",{children:"• Holistic scoring system (0-100 scale)"})]}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:"• Personalized recommendations"}),e.jsx("li",{children:"• 15-minute completion time"})]})]})]})]})}),e.jsxs("button",{onClick:()=>m("/app/mental-health/integrated-test"),className:"w-full flex items-center justify-center px-6 py-4 text-base font-semibold text-white bg-gradient-to-r from-emerald-600 via-teal-600 to-green-600 hover:from-emerald-700 hover:via-teal-700 hover:to-green-700 rounded-xl shadow-lg transform transition-all duration-200 hover:scale-[1.02] hover:shadow-xl",children:[e.jsx(S,{className:"w-5 h-5 mr-3"}),"🧠 Take Comprehensive Assessment",e.jsx("div",{className:"ml-3 bg-white/20 px-2 py-1 rounded-full text-xs",children:"NEW"})]})]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(y,{className:"h-5 w-5 text-indigo-500 mr-2"}),t("assessments.title","Assessment History")]}),d.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsx("div",{className:"mx-auto h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(x,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-base font-medium text-gray-900 mb-1",children:t("assessments.noAssessments","No assessments yet")}),e.jsx("p",{className:"text-sm text-gray-500 mb-6 max-w-md mx-auto",children:t("assessments.getStarted","Take your first assessment to start tracking your mental health progress")}),"              ",e.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[e.jsx("button",{onClick:()=>m("/app/mental-health/integrated-test"),className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 rounded-lg shadow-sm transform transition-all duration-200 hover:scale-[1.02]",children:"🧠 Take Comprehensive Test (All-in-One)"}),e.jsx("button",{onClick:()=>m("/app/mental-health/phq9-test"),className:"px-3 py-1.5 text-sm text-purple-700 bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors",children:"Take PHQ-9 Test"}),e.jsx("button",{onClick:()=>m("/app/mental-health/gad7-test"),className:"px-3 py-1.5 text-sm text-indigo-700 bg-indigo-50 hover:bg-indigo-100 rounded-lg transition-colors",children:"Take GAD-7 Test"}),e.jsx("button",{onClick:()=>m("/app/mental-health/dass21-test"),className:"px-3 py-1.5 text-sm text-teal-700 bg-teal-50 hover:bg-teal-100 rounded-lg transition-colors",children:"Take DASS-21 Test"})]})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:d.map(s=>{const a=J(s.risk);return e.jsxs("div",{className:"py-4 first:pt-0 last:pb-0 group transition-colors hover:bg-gray-50 rounded-lg cursor-pointer",onClick:()=>H(w===s.id?null:s.id),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:u("p-2.5 rounded-lg transform transition-transform group-hover:scale-110",a.bg),children:e.jsx(a.icon,{className:"h-5 w-5"})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900 group-hover:text-indigo-700 transition-colors",children:[s.type," - Score: ",s.score]}),e.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500",children:[e.jsx(y,{className:"h-3.5 w-3.5 mr-1.5"}),f(new Date(s.date),"MMMM d, yyyy")]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:o=>P(s.id,o),className:"p-1.5 rounded-md text-gray-400 hover:text-red-500 hover:bg-red-50 transition-colors",title:t("actions.delete","Delete"),children:e.jsx(G,{className:"h-4 w-4"})}),e.jsx("div",{className:"text-gray-400 group-hover:text-indigo-500 transform transition-transform duration-300",children:w===s.id?e.jsx(oe,{className:"h-5 w-5"}):e.jsx(ce,{className:"h-5 w-5"})})]})]}),w===s.id&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-4 rounded-lg border border-gray-200 animate-fadeIn",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:t("assessments.type","Assessment Type")}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:t("assessments.score","Score")}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:s.score})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:t("assessments.date","Date")}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f(new Date(s.date),"MMMM d, yyyy")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:t("assessments.risk","Risk Level")}),e.jsx("p",{className:u("mt-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",a.bg,a.text),children:t(`risk.${s.risk}`,s.risk)})]})]}),s.recommendations&&s.recommendations.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:t("assessments.recommendations","Recommendations")}),e.jsxs("ul",{className:"space-y-1 pl-5 list-disc text-xs text-gray-700",children:[s.recommendations.slice(0,3).map((o,j)=>e.jsx("li",{children:o},j)),s.recommendations.length>3&&e.jsx("li",{className:"text-indigo-600 cursor-pointer",children:t("assessments.moreRecommendations","+ more recommendations")})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsxs("button",{className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-indigo-700 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-colors",onClick:o=>R(s,o),children:[t("actions.viewDetails","View Full Details"),e.jsx(v,{className:"ml-1.5 h-3.5 w-3.5"})]})})]})]},s.id)})})]})}),g&&e.jsx(V,{assessment:g,onClose:()=>N(null)})]})}export{pe as default};
