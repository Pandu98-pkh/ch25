import{u as V,j as e,c as o,a as q}from"./index-CTZTKUwr.js";import{r as T,c as _}from"./react-vendor-CrzWfPmj.js";import{B as j,X as z,af as H,O as M,D as O,ag as Q,ah as F,C as S,v as R,A as Y,ai as f,m as y,aj as B,h as A,a1 as U,ak as C,a9 as X,al as J,a2 as K}from"./ui-vendor-CN1t4Dfj.js";const I=[{range:[0,4],level:"minimal",color:"green"},{range:[5,9],level:"mild",color:"blue"},{range:[10,14],level:"moderate",color:"yellow"},{range:[15,19],level:"moderately severe",color:"orange"},{range:[20,27],level:"severe",color:"red"}],G=[{range:[0,4],level:"minimal",color:"green"},{range:[5,9],level:"mild",color:"blue"},{range:[10,14],level:"moderate",color:"yellow"},{range:[15,21],level:"severe",color:"red"}];function W({assessment:s,onClose:c}){const{t:r}=V(),[g,x]=T.useState("summary"),k=(a,l)=>l==="PHQ-9"?I.find(n=>a>=n.range[0]&&a<=n.range[1])||I[0]:l==="GAD-7"?G.find(n=>a>=n.range[0]&&a<=n.range[1])||G[0]:{level:"unknown",color:"gray"},N=a=>{switch(a.color){case"green":return{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"};case"blue":return{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"};case"yellow":return{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"};case"orange":return{bg:"bg-amber-100",text:"text-amber-800",border:"border-amber-200"};case"red":return{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"};default:return{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"}}},v=a=>{switch(a){case"low":return{bg:"bg-green-100",text:"text-green-800",icon:M};case"moderate":return{bg:"bg-yellow-100",text:"text-yellow-800",icon:y};case"high":return{bg:"bg-red-100",text:"text-red-800",icon:y};default:return{bg:"bg-gray-100",text:"text-gray-800",icon:f}}},h=a=>{if(!a)return e.jsx(f,{className:"h-5 w-5 text-gray-500"});switch(a){case"improving":return e.jsx(B,{className:"h-5 w-5 text-green-500"});case"worsening":return e.jsx(H,{className:"h-5 w-5 text-red-500"});default:return e.jsx(f,{className:"h-5 w-5 text-blue-500"})}},p=a=>{try{return A(new Date(a),"MMMM d, yyyy")}catch{return a}},w=a=>{switch(a){case"PHQ-9":return 27;case"GAD-7":return 21;case"DASS-21":return 126;default:return 100}},m=k(s.score,s.type),b=N(m),D=v(s.risk),P=w(s.type);return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-auto",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto animate-fadeIn relative",children:[e.jsxs("div",{className:"sticky top-0 z-10 bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4 text-white flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{className:"h-6 w-6 mr-3"}),e.jsxs("h2",{className:"text-xl font-bold",children:[s.type," ",r("assessmentDetail.title","Assessment Details")]})]}),e.jsx("button",{onClick:c,className:"p-1.5 hover:bg-white/20 rounded-full transition-colors","aria-label":"Close",children:e.jsx(z,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>x("summary"),className:o("px-4 py-2 rounded-lg text-sm font-medium transition-colors",g==="summary"?"bg-indigo-100 text-indigo-800":"text-gray-600 hover:bg-gray-100"),children:r("assessmentDetail.summary","Summary")}),s.responses&&s.responses.length>0&&e.jsx("button",{onClick:()=>x("responses"),className:o("px-4 py-2 rounded-lg text-sm font-medium transition-colors",g==="responses"?"bg-indigo-100 text-indigo-800":"text-gray-600 hover:bg-gray-100"),children:r("assessmentDetail.responses","Responses")}),s.notes&&e.jsx("button",{onClick:()=>x("analysis"),className:o("px-4 py-2 rounded-lg text-sm font-medium transition-colors",g==="analysis"?"bg-indigo-100 text-indigo-800":"text-gray-600 hover:bg-gray-100"),children:r("assessmentDetail.analysis","Clinical Analysis")})]})}),g==="summary"&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:r("assessmentDetail.basicInfo","Basic Information")}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-500",children:[r("assessmentDetail.type","Assessment Type"),":"]}),e.jsx("span",{className:"font-medium text-gray-900",children:s.type})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-500",children:[r("assessmentDetail.date","Date Taken"),":"]}),e.jsx("span",{className:"font-medium text-gray-900",children:p(s.date)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-500",children:[r("assessmentDetail.score","Score"),":"]}),e.jsxs("span",{className:"font-medium text-gray-900",children:[s.score,"/",P]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-gray-500",children:[r("assessmentDetail.severity","Severity"),":"]}),e.jsx("span",{className:o("px-2.5 py-0.5 rounded-full text-xs font-medium",b.bg,b.text),children:m.level})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-gray-500",children:[r("assessmentDetail.risk","Risk Level"),":"]}),e.jsx("span",{className:o("px-2.5 py-0.5 rounded-full text-xs font-medium",D.bg,D.text),children:s.risk})]})]}),s.type==="DASS-21"&&s.subScores&&e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:r("assessmentDetail.subscores","Subscores")}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-500",children:[r("assessmentDetail.depression","Depression"),":"]}),e.jsxs("span",{className:"font-medium text-gray-900",children:[s.subScores.depression,"/42"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-500",children:[r("assessmentDetail.anxiety","Anxiety"),":"]}),e.jsxs("span",{className:"font-medium text-gray-900",children:[s.subScores.anxiety,"/42"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-500",children:[r("assessmentDetail.stress","Stress"),":"]}),e.jsxs("span",{className:"font-medium text-gray-900",children:[s.subScores.stress,"/42"]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[s.mlPrediction&&e.jsxs("div",{className:"bg-indigo-50 rounded-xl p-6 border border-indigo-100",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(H,{className:"h-5 w-5 mr-2 text-indigo-600"}),r("assessmentDetail.trendAnalysis","Trend Analysis")]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"bg-white rounded-full p-3 border border-indigo-200",children:h(s.mlPrediction.trend)}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 mb-1",children:[s.mlPrediction.trend==="improving"&&r("assessmentDetail.improving","Improving"),s.mlPrediction.trend==="stable"&&r("assessmentDetail.stable","Stable"),s.mlPrediction.trend==="worsening"&&r("assessmentDetail.worsening","Needs Attention")]}),e.jsx("p",{className:"text-sm text-gray-600",children:s.mlPrediction.trend==="improving"?r("assessmentDetail.improvingText","Your scores show improvement. Continue with current strategies."):s.mlPrediction.trend==="stable"?r("assessmentDetail.stableText","Your scores are stable. Maintain consistent monitoring."):r("assessmentDetail.worseningText","Your scores indicate potential decline. Consider additional support.")}),s.mlPrediction.confidence&&e.jsxs("div",{className:"mt-2 text-xs text-indigo-600",children:[r("assessmentDetail.predictionConfidence","Prediction confidence"),": ",Math.round(s.mlPrediction.confidence*100),"%"]})]})]})]}),s.recommendations&&s.recommendations.length>0&&e.jsxs("div",{className:"bg-green-50 rounded-xl p-6 border border-green-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:r("assessmentDetail.recommendations","Recommendations")}),e.jsx("ul",{className:"space-y-2",children:s.recommendations.map((a,l)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(M,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:a})]},l))})]})]})]}),e.jsxs("div",{className:"mt-6 flex flex-wrap gap-3 justify-end",children:[e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),r("assessmentDetail.download","Download Report")]}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),r("assessmentDetail.print","Print")]}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),r("assessmentDetail.share","Share with Provider")]})]})]}),g==="responses"&&s.responses&&e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:r("assessmentDetail.responseDetails","Response Details")}),e.jsx("div",{className:"bg-gray-50 rounded-xl border border-gray-200 overflow-hidden mb-6",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("assessmentDetail.question","Question")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r("assessmentDetail.response","Response")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.responses.map((a,l)=>e.jsxs("tr",{className:l%2===0?"bg-white":"bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[a.questionText||`Question ${a.questionId}`,a.category&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-indigo-100 text-indigo-800",children:a.category})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:a.answer})})]},l))})]})}),e.jsx("div",{className:"text-sm text-gray-500 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"h-4 w-4 mr-1.5"}),r("assessmentDetail.takenOn","Taken on")," ",p(s.date)]})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:()=>x("summary"),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),r("assessmentDetail.backToSummary","Back to Summary")]}),s.notes&&e.jsxs("button",{onClick:()=>x("analysis"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 transition-colors",children:[r("assessmentDetail.viewAnalysis","View Clinical Analysis"),e.jsx(Y,{className:"h-4 w-4 ml-2"})]})]})]}),g==="analysis"&&s.notes&&e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:r("assessmentDetail.clinicalAnalysis","Clinical Analysis")}),e.jsx("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-5 mb-6",children:e.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm text-gray-700",children:s.notes})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:()=>x("summary"),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),r("assessmentDetail.backToSummary","Back to Summary")]}),e.jsxs("button",{onClick:()=>window.print(),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),r("assessmentDetail.print","Print Analysis")]})]})]}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 text-xs text-gray-500",children:r("assessmentDetail.disclaimer","Disclaimer: This assessment is intended for screening purposes only and does not constitute a clinical diagnosis.")})]})})}const E=[{range:[0,4],level:"minimal",color:"green"},{range:[5,9],level:"mild",color:"blue"},{range:[10,14],level:"moderate",color:"yellow"},{range:[15,19],level:"moderately severe",color:"orange"},{range:[20,27],level:"severe",color:"red"}],L=[{range:[0,4],level:"minimal",color:"green"},{range:[5,9],level:"mild",color:"blue"},{range:[10,14],level:"moderate",color:"yellow"},{range:[15,21],level:"severe",color:"red"}];function te(){const{t:s}=V(),{assessments:c,deleteAssessment:r,loading:g}=q(),[x,k]=T.useState(null),[N,v]=T.useState(null),h=_(),p=t=>E.find(i=>t>=i.range[0]&&t<=i.range[1])||E[0],w=t=>L.find(i=>t>=i.range[0]&&t<=i.range[1])||L[0],m=(t,i)=>{switch((i==="PHQ-9"?p(t):w(t)).color){case"green":return{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"};case"blue":return{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"};case"yellow":return{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"};case"orange":return{bg:"bg-amber-100",text:"text-amber-800",border:"border-amber-200"};case"red":return{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"};default:return{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"}}},b=t=>{if(!t)return e.jsx(f,{className:"h-4 w-4"});switch(t){case"improving":return e.jsx(B,{className:"h-4 w-4 text-green-500"});case"worsening":return e.jsx(H,{className:"h-4 w-4 text-red-500"});default:return e.jsx(f,{className:"h-4 w-4 text-blue-500"})}},D=t=>{switch(t){case"low":return{bg:"bg-green-100",text:"text-green-800",icon:M};case"moderate":return{bg:"bg-yellow-100",text:"text-yellow-800",icon:y};case"high":return{bg:"bg-red-100",text:"text-red-800",icon:y};default:return{bg:"bg-gray-100",text:"text-gray-800",icon:y}}},P=(t,i)=>{i.stopPropagation(),window.confirm(s("confirmation.deleteAssessment","Are you sure you want to delete this assessment?"))&&r(t)},a=(t,i)=>{i.stopPropagation(),v(t)};if(g)return e.jsx("div",{className:"p-6 max-w-6xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"h-12 w-12 rounded-lg bg-indigo-200 mr-4"}),e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx("div",{className:"h-6 bg-indigo-200 rounded w-1/3"}),e.jsx("div",{className:"h-4 bg-indigo-100 rounded w-1/2"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((t,i)=>e.jsxs("div",{className:"h-44 bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-2/3 mb-3"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded w-full"})]},i))}),e.jsx("div",{className:"h-96 bg-white rounded-xl border border-gray-200 shadow-sm"})]})});const l=c.find(t=>t.type==="PHQ-9"),n=c.find(t=>t.type==="GAD-7"),d=c.find(t=>t.type==="DASS-21");return e.jsxs("div",{className:"bg-gray-50 p-6 max-w-6xl mx-auto rounded-xl",children:[e.jsxs("div",{className:"mb-8 flex items-center",children:[e.jsx("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 w-12 h-12 rounded-lg flex items-center justify-center shadow-lg mr-4",children:e.jsx(j,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600",children:s("mentalHealth.title","Mental Health Dashboard")}),e.jsx("p",{className:"mt-1 text-gray-500",children:s("mentalHealth.description","Track your mental health with standardized assessments")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 transform transition-all duration-300 hover:shadow-md hover:border-indigo-200",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(U,{className:"h-6 w-6 text-indigo-600"})}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:s("dashboard.totalAssessments","Assessment Overview")})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.length}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"bg-indigo-50 px-3 py-1 rounded-full flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 mr-1.5"}),e.jsxs("span",{className:"text-xs font-medium text-indigo-700",children:["PHQ-9: ",c.filter(t=>t.type==="PHQ-9").length]})]}),e.jsxs("div",{className:"bg-purple-50 px-3 py-1 rounded-full flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500 mr-1.5"}),e.jsxs("span",{className:"text-xs font-medium text-purple-700",children:["GAD-7: ",c.filter(t=>t.type==="GAD-7").length]})]}),e.jsxs("div",{className:"bg-blue-50 px-3 py-1 rounded-full flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mr-1.5"}),e.jsxs("span",{className:"text-xs font-medium text-blue-700",children:["DASS-21: ",c.filter(t=>t.type==="DASS-21").length]})]})]}),c.length>0&&e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(S,{className:"h-3.5 w-3.5 mr-1"}),s("dashboard.lastAssessment","Last assessment"),": ",A(new Date(c[0].date),"MMM d, yyyy")]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 transform transition-all duration-300 hover:shadow-md hover:border-purple-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(j,{className:"h-6 w-6 text-purple-600"})}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:"PHQ-9 Depression"})]}),l&&e.jsx("div",{className:o("px-3 py-1 rounded-full text-xs font-medium",m(l.score,"PHQ-9").bg,m(l.score,"PHQ-9").text),children:p(l.score).level})]}),l?e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Latest Score"}),e.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[l.score,"/27"]})]}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:o("h-2 rounded-full",l.score<5?"bg-green-500":l.score<10?"bg-blue-500":l.score<15?"bg-yellow-500":l.score<20?"bg-orange-500":"bg-red-500"),style:{width:`${l.score/27*100}%`}})}),l.mlPrediction&&e.jsxs("div",{className:"flex items-center mt-3 text-sm",children:[b(l.mlPrediction.trend),e.jsx("span",{className:"ml-1.5 text-gray-600",children:l.mlPrediction.trend==="improving"?"Improving":l.mlPrediction.trend==="stable"?"Stable":"Needs Attention"})]})]})}):e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No PHQ-9 assessments yet"}),e.jsxs("button",{onClick:()=>h("/mental-health/phq9-test"),className:"w-full flex items-center justify-center px-4 py-2.5 text-sm font-medium text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 rounded-lg shadow-sm transform transition-all duration-200 hover:scale-[1.02]",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Take PHQ-9 Depression Test"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 transform transition-all duration-300 hover:shadow-md hover:border-indigo-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(j,{className:"h-6 w-6 text-indigo-600"})}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:"GAD-7 Anxiety"})]}),n&&e.jsx("div",{className:o("px-3 py-1 rounded-full text-xs font-medium",m(n.score,"GAD-7").bg,m(n.score,"GAD-7").text),children:w(n.score).level})]}),n?e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Latest Score"}),e.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[n.score,"/21"]})]}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:o("h-2 rounded-full",n.score<5?"bg-green-500":n.score<10?"bg-blue-500":n.score<15?"bg-yellow-500":"bg-red-500"),style:{width:`${n.score/21*100}%`}})}),n.mlPrediction&&e.jsxs("div",{className:"flex items-center mt-3 text-sm",children:[b(n.mlPrediction.trend),e.jsx("span",{className:"ml-1.5 text-gray-600",children:n.mlPrediction.trend==="improving"?"Improving":n.mlPrediction.trend==="stable"?"Stable":"Needs Attention"})]})]})}):e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No GAD-7 assessments yet"}),e.jsxs("button",{onClick:()=>h("/mental-health/gad7-test"),className:"w-full flex items-center justify-center px-4 py-2.5 text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 rounded-lg shadow-sm transform transition-all duration-200 hover:scale-[1.02]",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Take GAD-7 Anxiety Test"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 transform transition-all duration-300 hover:shadow-md hover:border-teal-200",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 bg-teal-100 rounded-lg",children:e.jsx(j,{className:"h-6 w-6 text-teal-600"})}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:"DASS-21 Assessment"})]}),d&&d.subScores?e.jsxs("div",{className:"mb-4 space-y-3",children:[e.jsxs("div",{className:"flex flex-col space-y-2.5",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Depression"}),e.jsxs("span",{className:o("text-xs px-2 py-0.5 rounded-full",m(d.subScores.depression,"DASS-21").bg,m(d.subScores.depression,"DASS-21").text),children:[d.subScores.depression,"/42"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Anxiety"}),e.jsxs("span",{className:o("text-xs px-2 py-0.5 rounded-full",m(d.subScores.anxiety,"DASS-21").bg,m(d.subScores.anxiety,"DASS-21").text),children:[d.subScores.anxiety,"/42"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Stress"}),e.jsxs("span",{className:o("text-xs px-2 py-0.5 rounded-full",m(d.subScores.stress,"DASS-21").bg,m(d.subScores.stress,"DASS-21").text),children:[d.subScores.stress,"/42"]})]})]}),d.mlPrediction&&e.jsxs("div",{className:"flex items-center text-sm",children:[b(d.mlPrediction.trend),e.jsx("span",{className:"ml-1.5 text-gray-600",children:d.mlPrediction.trend==="improving"?"Improving":d.mlPrediction.trend==="stable"?"Stable":"Needs Attention"})]})]}):e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No DASS-21 assessments yet"}),e.jsxs("button",{onClick:()=>h("/mental-health/dass21-test"),className:"w-full flex items-center justify-center px-4 py-2.5 text-sm font-medium text-white bg-gradient-to-r from-teal-600 to-green-600 hover:from-teal-700 hover:to-green-700 rounded-lg shadow-sm transform transition-all duration-200 hover:scale-[1.02]",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Take DASS-21 Assessment"]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(S,{className:"h-5 w-5 text-indigo-500 mr-2"}),s("assessments.title","Assessment History")]}),c.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsx("div",{className:"mx-auto h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(y,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-base font-medium text-gray-900 mb-1",children:s("assessments.noAssessments","No assessments yet")}),e.jsx("p",{className:"text-sm text-gray-500 mb-6 max-w-md mx-auto",children:s("assessments.getStarted","Take your first assessment to start tracking your mental health progress")}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[e.jsx("button",{onClick:()=>h("/mental-health/phq9-test"),className:"px-3 py-1.5 text-sm text-purple-700 bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors",children:"Take PHQ-9 Test"}),e.jsx("button",{onClick:()=>h("/mental-health/gad7-test"),className:"px-3 py-1.5 text-sm text-indigo-700 bg-indigo-50 hover:bg-indigo-100 rounded-lg transition-colors",children:"Take GAD-7 Test"}),e.jsx("button",{onClick:()=>h("/mental-health/dass21-test"),className:"px-3 py-1.5 text-sm text-teal-700 bg-teal-50 hover:bg-teal-100 rounded-lg transition-colors",children:"Take DASS-21 Test"})]})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:c.map(t=>{const i=D(t.risk);return e.jsxs("div",{className:"py-4 first:pt-0 last:pb-0 group transition-colors hover:bg-gray-50 rounded-lg cursor-pointer",onClick:()=>k(x===t.id?null:t.id),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:o("p-2.5 rounded-lg transform transition-transform group-hover:scale-110",i.bg),children:e.jsx(i.icon,{className:"h-5 w-5"})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900 group-hover:text-indigo-700 transition-colors",children:[t.type," - Score: ",t.score]}),e.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500",children:[e.jsx(S,{className:"h-3.5 w-3.5 mr-1.5"}),A(new Date(t.date),"MMMM d, yyyy")]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:u=>P(t.id,u),className:"p-1.5 rounded-md text-gray-400 hover:text-red-500 hover:bg-red-50 transition-colors",title:s("actions.delete","Delete"),children:e.jsx(X,{className:"h-4 w-4"})}),e.jsx("div",{className:"text-gray-400 group-hover:text-indigo-500 transform transition-transform duration-300",children:x===t.id?e.jsx(J,{className:"h-5 w-5"}):e.jsx(K,{className:"h-5 w-5"})})]})]}),x===t.id&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-4 rounded-lg border border-gray-200 animate-fadeIn",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:s("assessments.type","Assessment Type")}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:s("assessments.score","Score")}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.score})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:s("assessments.date","Date")}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:A(new Date(t.date),"MMMM d, yyyy")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:s("assessments.risk","Risk Level")}),e.jsx("p",{className:o("mt-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",i.bg,i.text),children:s(`risk.${t.risk}`,t.risk)})]})]}),t.recommendations&&t.recommendations.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:s("assessments.recommendations","Recommendations")}),e.jsxs("ul",{className:"space-y-1 pl-5 list-disc text-xs text-gray-700",children:[t.recommendations.slice(0,3).map((u,$)=>e.jsx("li",{children:u},$)),t.recommendations.length>3&&e.jsx("li",{className:"text-indigo-600 cursor-pointer",children:s("assessments.moreRecommendations","+ more recommendations")})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsxs("button",{className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-indigo-700 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-colors",onClick:u=>a(t,u),children:[s("actions.viewDetails","View Full Details"),e.jsx(Y,{className:"ml-1.5 h-3.5 w-3.5"})]})})]})]},t.id)})})]})}),N&&e.jsx(W,{assessment:N,onClose:()=>v(null)})]})}export{te as default};
