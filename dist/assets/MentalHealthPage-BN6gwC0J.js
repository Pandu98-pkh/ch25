const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BPryJHl5.js","assets/react-vendor-Brf1c7dg.js","assets/ui-vendor-iM6TVctI.js","assets/index-CZ2YLR6m.css"])))=>i.map(i=>d[i]);
import{u as Z,j as e,c as d,o as te,p as re,_ as ae}from"./index-BPryJHl5.js";import{r as L,u as le}from"./react-vendor-Brf1c7dg.js";import{i as w,X as ie,aw as _,f as R,a0 as ne,ax as U,ay as de,l as j,$ as Y,v as N,az as k,A as p,aA as ee,s as f,aB as oe,al as V,U as B,aC as ce,a2 as O,D as z,aD as me,t as F,aE as I,I as xe,T as ge}from"./ui-vendor-iM6TVctI.js";const X=[{range:[0,4],level:"minimal",color:"green"},{range:[5,9],level:"mild",color:"blue"},{range:[10,14],level:"moderate",color:"yellow"},{range:[15,19],level:"moderately severe",color:"orange"},{range:[20,27],level:"severe",color:"red"}],J=[{range:[0,4],level:"minimal",color:"green"},{range:[5,9],level:"mild",color:"blue"},{range:[10,14],level:"moderate",color:"yellow"},{range:[15,21],level:"severe",color:"red"}];function he({assessment:s,onClose:S}){const{t:a}=Z(),[b,x]=L.useState("summary"),C=(l,h)=>h==="PHQ-9"?X.find(y=>l>=y.range[0]&&l<=y.range[1])||X[0]:h==="GAD-7"?J.find(y=>l>=y.range[0]&&l<=y.range[1])||J[0]:{level:"unknown",color:"gray"},P=l=>{switch(l.color){case"green":return{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"};case"blue":return{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"};case"yellow":return{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"};case"orange":return{bg:"bg-amber-100",text:"text-amber-800",border:"border-amber-200"};case"red":return{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"};default:return{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"}}},H=l=>{switch(l){case"low":return{bg:"bg-green-100",text:"text-green-800",icon:R};case"moderate":return{bg:"bg-yellow-100",text:"text-yellow-800",icon:p};case"high":return{bg:"bg-red-100",text:"text-red-800",icon:p};default:return{bg:"bg-gray-100",text:"text-gray-800",icon:k}}},g=l=>{if(!l)return e.jsx(k,{className:"h-5 w-5 text-gray-500"});switch(l){case"improving":return e.jsx(ee,{className:"h-5 w-5 text-green-500"});case"worsening":return e.jsx(_,{className:"h-5 w-5 text-red-500"});default:return e.jsx(k,{className:"h-5 w-5 text-blue-500"})}},M=l=>{try{return f(new Date(l),"MMMM d, yyyy")}catch{return l}},Q=l=>{switch(l){case"PHQ-9":return 27;case"GAD-7":return 21;case"DASS-21":return 126;default:return 100}},T=C(s.score,s.type),D=P(T),v=H(s.risk),i=Q(s.type);return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-auto scrollbar-light",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto animate-fadeIn relative scrollbar-light",children:[e.jsxs("div",{className:"sticky top-0 z-10 bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4 text-white flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(w,{className:"h-6 w-6 mr-3"}),e.jsxs("h2",{className:"text-xl font-bold",children:[s.type," ",a("assessmentDetail.title","Assessment Details")]})]}),e.jsx("button",{onClick:S,className:"p-1.5 hover:bg-white/20 rounded-full transition-colors","aria-label":"Close",children:e.jsx(ie,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b border-gray-200",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>x("summary"),className:d("px-4 py-2 rounded-lg text-sm font-medium transition-colors",b==="summary"?"bg-indigo-100 text-indigo-800":"text-gray-600 hover:bg-gray-100"),children:a("assessmentDetail.summary","Summary")}),s.responses&&s.responses.length>0&&e.jsx("button",{onClick:()=>x("responses"),className:d("px-4 py-2 rounded-lg text-sm font-medium transition-colors",b==="responses"?"bg-indigo-100 text-indigo-800":"text-gray-600 hover:bg-gray-100"),children:a("assessmentDetail.responses","Responses")}),s.notes&&e.jsx("button",{onClick:()=>x("analysis"),className:d("px-4 py-2 rounded-lg text-sm font-medium transition-colors",b==="analysis"?"bg-indigo-100 text-indigo-800":"text-gray-600 hover:bg-gray-100"),children:a("assessmentDetail.analysis","Clinical Analysis")})]})}),b==="summary"&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:a("assessmentDetail.basicInfo","Basic Information")}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-500",children:[a("assessmentDetail.type","Assessment Type"),":"]}),e.jsx("span",{className:"font-medium text-gray-900",children:s.type})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-500",children:[a("assessmentDetail.date","Date Taken"),":"]}),e.jsx("span",{className:"font-medium text-gray-900",children:M(s.date)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-500",children:[a("assessmentDetail.score","Score"),":"]}),e.jsxs("span",{className:"font-medium text-gray-900",children:[s.score,"/",i]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-gray-500",children:[a("assessmentDetail.severity","Severity"),":"]}),e.jsx("span",{className:d("px-2.5 py-0.5 rounded-full text-xs font-medium",D.bg,D.text),children:T.level})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-gray-500",children:[a("assessmentDetail.risk","Risk Level"),":"]}),e.jsx("span",{className:d("px-2.5 py-0.5 rounded-full text-xs font-medium",v.bg,v.text),children:s.risk})]})]}),s.type==="DASS-21"&&s.subScores&&e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:a("assessmentDetail.subscores","Subscores")}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-500",children:[a("assessmentDetail.depression","Depression"),":"]}),e.jsxs("span",{className:"font-medium text-gray-900",children:[s.subScores.depression,"/42"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-500",children:[a("assessmentDetail.anxiety","Anxiety"),":"]}),e.jsxs("span",{className:"font-medium text-gray-900",children:[s.subScores.anxiety,"/42"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-500",children:[a("assessmentDetail.stress","Stress"),":"]}),e.jsxs("span",{className:"font-medium text-gray-900",children:[s.subScores.stress,"/42"]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[s.mlPrediction&&e.jsxs("div",{className:"bg-indigo-50 rounded-xl p-6 border border-indigo-100",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(_,{className:"h-5 w-5 mr-2 text-indigo-600"}),a("assessmentDetail.trendAnalysis","Trend Analysis")]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"bg-white rounded-full p-3 border border-indigo-200",children:g(s.mlPrediction.trend)}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 mb-1",children:[s.mlPrediction.trend==="improving"&&a("assessmentDetail.improving","Improving"),s.mlPrediction.trend==="stable"&&a("assessmentDetail.stable","Stable"),s.mlPrediction.trend==="worsening"&&a("assessmentDetail.worsening","Needs Attention")]}),e.jsx("p",{className:"text-sm text-gray-600",children:s.mlPrediction.trend==="improving"?a("assessmentDetail.improvingText","Your scores show improvement. Continue with current strategies."):s.mlPrediction.trend==="stable"?a("assessmentDetail.stableText","Your scores are stable. Maintain consistent monitoring."):a("assessmentDetail.worseningText","Your scores indicate potential decline. Consider additional support.")}),s.mlPrediction.confidence&&e.jsxs("div",{className:"mt-2 text-xs text-indigo-600",children:[a("assessmentDetail.predictionConfidence","Prediction confidence"),": ",Math.round(s.mlPrediction.confidence*100),"%"]})]})]})]}),s.recommendations&&s.recommendations.length>0&&e.jsxs("div",{className:"bg-green-50 rounded-xl p-6 border border-green-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:a("assessmentDetail.recommendations","Recommendations")}),e.jsx("ul",{className:"space-y-2",children:s.recommendations.map((l,h)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(R,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700",children:l})]},h))})]})]})]}),e.jsxs("div",{className:"mt-6 flex flex-wrap gap-3 justify-end",children:[e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(ne,{className:"h-4 w-4 mr-2"}),a("assessmentDetail.download","Download Report")]}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),a("assessmentDetail.print","Print")]}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),a("assessmentDetail.share","Share with Provider")]})]})]}),b==="responses"&&s.responses&&e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:a("assessmentDetail.responseDetails","Response Details")}),e.jsx("div",{className:"bg-gray-50 rounded-xl border border-gray-200 overflow-hidden mb-6",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a("assessmentDetail.question","Question")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:a("assessmentDetail.response","Response")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.responses.map((l,h)=>e.jsxs("tr",{className:h%2===0?"bg-white":"bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[l.questionText||`Question ${l.questionId}`,l.category&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-indigo-100 text-indigo-800",children:l.category})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx("span",{className:"px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:l.answer})})]},h))})]})}),e.jsx("div",{className:"text-sm text-gray-500 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{className:"h-4 w-4 mr-1.5"}),a("assessmentDetail.takenOn","Taken on")," ",M(s.date)]})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:()=>x("summary"),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),a("assessmentDetail.backToSummary","Back to Summary")]}),s.notes&&e.jsxs("button",{onClick:()=>x("analysis"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 transition-colors",children:[a("assessmentDetail.viewAnalysis","View Clinical Analysis"),e.jsx(N,{className:"h-4 w-4 ml-2"})]})]})]}),b==="analysis"&&s.notes&&e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:a("assessmentDetail.clinicalAnalysis","Clinical Analysis")}),e.jsx("div",{className:"bg-gray-50 rounded-xl border border-gray-200 p-5 mb-6",children:e.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm text-gray-700",children:s.notes})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:()=>x("summary"),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),a("assessmentDetail.backToSummary","Back to Summary")]}),e.jsxs("button",{onClick:()=>window.print(),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),a("assessmentDetail.print","Print Analysis")]})]})]}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 text-xs text-gray-500",children:a("assessmentDetail.disclaimer","Disclaimer: This assessment is intended for screening purposes only and does not constitute a clinical diagnosis.")})]})})}const K=[{range:[0,4],level:"minimal",color:"green"},{range:[5,9],level:"mild",color:"blue"},{range:[10,14],level:"moderate",color:"yellow"},{range:[15,19],level:"moderately severe",color:"orange"},{range:[20,27],level:"severe",color:"red"}],W=[{range:[0,4],level:"minimal",color:"green"},{range:[5,9],level:"mild",color:"blue"},{range:[10,14],level:"moderate",color:"yellow"},{range:[15,21],level:"severe",color:"red"}];function ye(){const{t:s}=Z(),{user:S,isAdmin:a,isCounselor:b}=te(),[x,C]=L.useState(null),[P,H]=L.useState(null),g=le(),M=a||b||S==null?void 0:S.id,{assessments:Q,loading:T,error:D,refetch:v}=re({studentId:M}),i=Q.map(t=>{var r;return{id:t.id,type:t.type,score:t.score,date:t.date,risk:t.risk,notes:t.notes,responses:t.responses?Object.entries(t.responses).map(([n,A])=>({questionId:parseInt(n),answer:A})):void 0,mlPrediction:t.mlInsights?{trend:t.mlInsights.severity==="severe"?"worsening":t.mlInsights.severity==="mild"?"improving":"stable",confidence:t.mlInsights.confidenceScore||.5,nextPredictedScore:void 0}:void 0,recommendations:(r=t.mlInsights)==null?void 0:r.recommendedActions,subScores:t.subScores}}),l=async t=>{try{await ae(()=>import("./index-BPryJHl5.js").then(r=>r.y),__vite__mapDeps([0,1,2,3])).then(r=>r.deleteMentalHealthAssessment(t)),await v(),console.log("✅ Assessment deleted successfully:",t)}catch(r){console.error("❌ Error deleting assessment:",r),await v()}},h=t=>K.find(r=>t>=r.range[0]&&t<=r.range[1])||K[0],y=t=>W.find(r=>t>=r.range[0]&&t<=r.range[1])||W[0],u=(t,r)=>{switch((r==="PHQ-9"?h(t):y(t)).color){case"green":return{bg:"bg-green-100",text:"text-green-800",border:"border-green-200"};case"blue":return{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-200"};case"yellow":return{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-200"};case"orange":return{bg:"bg-amber-100",text:"text-amber-800",border:"border-amber-200"};case"red":return{bg:"bg-red-100",text:"text-red-800",border:"border-red-200"};default:return{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-200"}}},G=t=>{if(!t)return e.jsx(k,{className:"h-4 w-4"});switch(t){case"improving":return e.jsx(ee,{className:"h-4 w-4 text-green-500"});case"worsening":return e.jsx(_,{className:"h-4 w-4 text-red-500"});default:return e.jsx(k,{className:"h-4 w-4 text-blue-500"})}},q=t=>{switch(t){case"low":return{bg:"bg-green-100",text:"text-green-800",icon:R};case"moderate":return{bg:"bg-yellow-100",text:"text-yellow-800",icon:p};case"high":return{bg:"bg-red-100",text:"text-red-800",icon:p};default:return{bg:"bg-gray-100",text:"text-gray-800",icon:p}}},$=(t,r)=>{r.stopPropagation(),window.confirm(s("confirmation.deleteAssessment","Are you sure you want to delete this assessment?"))&&l(t)},E=(t,r)=>{r.stopPropagation(),H(t)},se=()=>({total:i.length,phq9:i.filter(r=>r.type==="PHQ-9").length,gad7:i.filter(r=>r.type==="GAD-7").length,dass21:i.filter(r=>r.type==="DASS-21").length,atRisk:i.filter(r=>r.risk==="high").length});if(D)return e.jsx("div",{className:"p-6 max-w-6xl mx-auto",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{className:"h-6 w-6 text-red-500 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-red-900",children:s("error.databaseConnection","Database Connection Error")}),e.jsx("p",{className:"text-red-700 mt-1",children:D}),e.jsx("button",{onClick:()=>v(),className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:s("actions.retry","Retry Connection")})]})]})})});if(T)return e.jsx("div",{className:"p-6 max-w-6xl mx-auto",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"h-12 w-12 rounded-lg bg-indigo-200 mr-4"}),e.jsxs("div",{className:"space-y-2 flex-1",children:[e.jsx("div",{className:"h-6 bg-indigo-200 rounded w-1/3"}),e.jsx("div",{className:"h-4 bg-indigo-100 rounded w-1/2"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((t,r)=>e.jsxs("div",{className:"h-44 bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-2/3 mb-3"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded w-full"})]},r))}),e.jsx("div",{className:"h-96 bg-white rounded-xl border border-gray-200 shadow-sm"})]})});const o=i.find(t=>t.type==="PHQ-9"),m=i.find(t=>t.type==="GAD-7"),c=i.find(t=>t.type==="DASS-21");if(a){const t=se();return e.jsxs("div",{className:"bg-gray-50 p-6 max-w-6xl mx-auto rounded-xl",children:[e.jsxs("div",{className:"mb-8 flex items-center",children:[e.jsx("div",{className:"bg-gradient-to-br from-purple-600 to-indigo-700 w-12 h-12 rounded-lg flex items-center justify-center shadow-lg mr-4",children:e.jsx(oe,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600",children:s("mentalHealth.adminTitle","Mental Health Administration")}),e.jsx("p",{className:"mt-1 text-gray-500",children:s("mentalHealth.adminDescription","Monitor and manage mental health assessments across the school")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 transform transition-all duration-300 hover:shadow-md hover:border-indigo-200",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(V,{className:"h-6 w-6 text-indigo-600"})}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:s("dashboard.assessmentOverview","Assessment Overview")})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t.total}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"bg-indigo-50 px-3 py-1 rounded-full flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 mr-1.5"}),e.jsxs("span",{className:"text-xs font-medium text-indigo-700",children:["PHQ-9: ",t.phq9]})]}),e.jsxs("div",{className:"bg-purple-50 px-3 py-1 rounded-full flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500 mr-1.5"}),e.jsxs("span",{className:"text-xs font-medium text-purple-700",children:["GAD-7: ",t.gad7]})]}),e.jsxs("div",{className:"bg-blue-50 px-3 py-1 rounded-full flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mr-1.5"}),e.jsxs("span",{className:"text-xs font-medium text-blue-700",children:["DASS-21: ",t.dass21]})]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 transform transition-all duration-300 hover:shadow-md hover:border-red-200",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:e.jsx(p,{className:"h-6 w-6 text-red-600"})}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:s("mentalHealth.highRiskStudents","High Risk Students")})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t.atRisk}),e.jsx("p",{className:"text-sm text-gray-600",children:s("mentalHealth.studentsRequiringAttention","Students requiring immediate attention")}),e.jsxs("button",{onClick:()=>g("/app/students"),className:"w-full flex items-center justify-end px-4 py-2 text-sm text-red-600 hover:text-red-800",children:[s("mentalHealth.viewAtRiskStudents","View at-risk students"),e.jsx(N,{className:"ml-1 h-3 w-3"})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 transform transition-all duration-300 hover:shadow-md hover:border-green-200",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(B,{className:"h-6 w-6 text-green-600"})}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:s("mentalHealth.assessmentAdministration","Assessment Admin")})]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("button",{onClick:()=>{},className:"flex items-center px-4 py-2 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),s("mentalHealth.approveAssessments","Approve Assessments")]}),e.jsxs("button",{onClick:()=>{},className:"flex items-center px-4 py-2 bg-indigo-50 text-indigo-700 rounded-lg hover:bg-indigo-100 transition-colors",children:[e.jsx(ce,{className:"h-4 w-4 mr-2"}),s("mentalHealth.managePermissions","Manage Permissions")]})]})})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(j,{className:"h-5 w-5 text-indigo-500 mr-2"}),s("assessments.recentAssessments","Recent Assessments")]}),i.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsx("div",{className:"mx-auto h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(p,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-base font-medium text-gray-900 mb-1",children:s("assessments.noAssessments","No assessments yet")}),e.jsx("p",{className:"text-sm text-gray-500 mb-6 max-w-md mx-auto",children:s("assessments.adminGetStarted","Encourage students to complete assessments to start monitoring mental health")})]}):e.jsxs("div",{className:"divide-y divide-gray-200",children:[i.slice(0,5).map(r=>{const n=q(r.risk);return e.jsxs("div",{className:"py-4 first:pt-0 last:pb-0 group transition-colors hover:bg-gray-50 rounded-lg cursor-pointer",onClick:()=>C(x===r.id?null:r.id),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:d("p-2.5 rounded-lg transform transition-transform group-hover:scale-110",n.bg),children:e.jsx(n.icon,{className:"h-5 w-5"})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900 group-hover:text-indigo-700 transition-colors",children:[r.type," - Score: ",r.score]}),e.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500",children:[e.jsx(j,{className:"h-3.5 w-3.5 mr-1.5"}),f(new Date(r.date),"MMMM d, yyyy")]})]})]}),e.jsx("div",{className:"text-gray-400 group-hover:text-indigo-500 transform transition-transform duration-300",children:x===r.id?e.jsx(O,{className:"h-5 w-5"}):e.jsx(z,{className:"h-5 w-5"})})]}),x===r.id&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-4 rounded-lg border border-gray-200 animate-fadeIn",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:s("assessments.student","Student")}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:s("assessments.score","Score")}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:r.score})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:s("assessments.date","Date")}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f(new Date(r.date),"MMMM d, yyyy")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:s("assessments.risk","Risk Level")}),e.jsx("p",{className:d("mt-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",n.bg,n.text),children:s(`risk.${r.risk}`,r.risk)})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsxs("button",{className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-indigo-700 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-colors",onClick:A=>E(r,A),children:[s("actions.viewDetails","View Full Details"),e.jsx(N,{className:"ml-1.5 h-3.5 w-3.5"})]})})]})]},r.id)}),i.length>5&&e.jsx("div",{className:"pt-4 text-center",children:e.jsxs("button",{className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",onClick:()=>{},children:[s("assessments.viewAll","View all assessments")," (",i.length,")"]})})]})]})})]})}return b?e.jsxs("div",{className:"bg-gray-50 p-6 max-w-6xl mx-auto rounded-xl",children:[e.jsxs("div",{className:"mb-8 flex items-center",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-700 w-12 h-12 rounded-lg flex items-center justify-center shadow-lg mr-4",children:e.jsx(me,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600",children:s("mentalHealth.counselorTitle","Student Mental Health Monitoring")}),e.jsx("p",{className:"mt-1 text-gray-500",children:s("mentalHealth.counselorDescription","Monitor and support student mental health assessments")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 transform transition-all duration-300 hover:shadow-md hover:border-indigo-200 md:col-span-2",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(B,{className:"h-6 w-6 text-indigo-600"})}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:s("mentalHealth.selectStudent","Select Student")})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:s("mentalHealth.searchStudents","Search students..."),className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),e.jsx("div",{className:"mt-4 space-y-2 max-h-56 overflow-y-auto scrollbar-light",children:[1,2,3].map(t=>e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-indigo-50 cursor-pointer border border-gray-200 hover:border-indigo-200 transition-colors",onClick:()=>g(`/app/students/${t}`),children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center mr-3",children:e.jsx(F,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium",children:["Student ",t]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Class XI-A"})]}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded-full text-xs font-medium",children:"3 assessments"})})]},t))})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 transform transition-all duration-300 hover:shadow-md hover:border-indigo-200",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(w,{className:"h-6 w-6 text-indigo-600"})}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:s("mentalHealth.quickActions","Quick Actions")})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>g("/app/sessions"),className:"w-full flex items-center justify-between px-4 py-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:s("mentalHealth.scheduleSession","Schedule Session")})]}),e.jsx(N,{className:"h-4 w-4"})]}),e.jsxs("button",{onClick:()=>{},className:"w-full flex items-center justify-between px-4 py-3 bg-purple-50 text-purple-700 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:s("mentalHealth.assignAssessment","Assign Assessment")})]}),e.jsx(N,{className:"h-4 w-4"})]}),e.jsxs("button",{onClick:()=>{},className:"w-full flex items-center justify-between px-4 py-3 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(V,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:s("mentalHealth.viewReports","View Reports")})]}),e.jsx(N,{className:"h-4 w-4"})]})]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(j,{className:"h-5 w-5 text-indigo-500 mr-2"}),s("assessments.recentAssessments","Recent Assessments")]}),e.jsx("div",{className:"overflow-x-auto scrollbar-light",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("assessments.student","Student")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("assessments.type","Type")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("assessments.date","Date")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("assessments.score","Score")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("assessments.risk","Risk")}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:s("actions.view","View")})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center",children:[e.jsx("div",{className:"mx-auto h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(p,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-base font-medium text-gray-900 mb-1",children:s("assessments.noAssessments","No assessments yet")}),e.jsx("p",{className:"text-sm text-gray-500",children:s("assessments.counselorGetStarted","Students will appear here after completing assessments")})]})}):i.slice(0,10).map(t=>{const r=t.risk==="low"?"bg-green-100 text-green-800":t.risk==="moderate"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800";return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsx(F,{className:"h-4 w-4 text-indigo-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Student ID: ",t.id.slice(0,8)]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Assessment ID: ",t.id.slice(-8)]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:t.type})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:f(new Date(t.date),"MMM d, yyyy")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.score})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${r}`,children:s(`risk.${t.risk}`,t.risk)})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 font-medium mr-4",onClick:n=>E(t,n),children:s("actions.view","View")}),e.jsx("button",{className:"text-red-600 hover:text-red-900 font-medium",onClick:n=>$(t.id,n),children:s("actions.delete","Delete")})]})]},t.id)})})]})})]})}),e.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-xl p-4 flex items-start",children:[e.jsx(xe,{className:"h-5 w-5 text-indigo-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-indigo-800",children:s("mentalHealth.counselorInfo","Counselor Information")}),e.jsx("p",{className:"mt-1 text-sm text-indigo-700",children:s("mentalHealth.counselorMessage","Select a student to view their complete mental health profile, assign assessments, or schedule counseling sessions.")})]})]})]}):e.jsxs("div",{className:"bg-gray-50 p-6 max-w-6xl mx-auto rounded-xl",children:[e.jsxs("div",{className:"mb-8 flex items-center",children:[e.jsx("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-700 w-12 h-12 rounded-lg flex items-center justify-center shadow-lg mr-4",children:e.jsx(w,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600",children:s("mentalHealth.title","Mental Health Dashboard")}),e.jsx("p",{className:"mt-1 text-gray-500",children:s("mentalHealth.description","Track your mental health with standardized assessments")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 transform transition-all duration-300 hover:shadow-md hover:border-indigo-200",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(V,{className:"h-6 w-6 text-indigo-600"})}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:s("dashboard.totalAssessments","Assessment Overview")})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i.length}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"bg-indigo-50 px-3 py-1 rounded-full flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-500 mr-1.5"}),e.jsxs("span",{className:"text-xs font-medium text-indigo-700",children:["PHQ-9: ",i.filter(t=>t.type==="PHQ-9").length]})]}),e.jsxs("div",{className:"bg-purple-50 px-3 py-1 rounded-full flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500 mr-1.5"}),e.jsxs("span",{className:"text-xs font-medium text-purple-700",children:["GAD-7: ",i.filter(t=>t.type==="GAD-7").length]})]}),e.jsxs("div",{className:"bg-blue-50 px-3 py-1 rounded-full flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mr-1.5"}),e.jsxs("span",{className:"text-xs font-medium text-blue-700",children:["DASS-21: ",i.filter(t=>t.type==="DASS-21").length]})]})]}),i.length>0&&e.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(j,{className:"h-3.5 w-3.5 mr-1"}),s("dashboard.lastAssessment","Last assessment"),": ",f(new Date(i[0].date),"MMM d, yyyy")]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 transform transition-all duration-300 hover:shadow-md hover:border-purple-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(w,{className:"h-6 w-6 text-purple-600"})}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:"PHQ-9 Depression"})]}),o&&e.jsx("div",{className:d("px-3 py-1 rounded-full text-xs font-medium",u(o.score,"PHQ-9").bg,u(o.score,"PHQ-9").text),children:h(o.score).level})]}),o?e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Latest Score"}),e.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[o.score,"/27"]})]}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:d("h-2 rounded-full",o.score<5?"bg-green-500":o.score<10?"bg-blue-500":o.score<15?"bg-yellow-500":o.score<20?"bg-orange-500":"bg-red-500"),style:{width:`${o.score/27*100}%`}})}),o.mlPrediction&&e.jsxs("div",{className:"flex items-center mt-3 text-sm",children:[G(o.mlPrediction.trend),e.jsx("span",{className:"ml-1.5 text-gray-600",children:o.mlPrediction.trend==="improving"?"Improving":o.mlPrediction.trend==="stable"?"Stable":"Needs Attention"})]})]})}):e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No PHQ-9 assessments yet"}),e.jsxs("button",{onClick:()=>g("/app/mental-health/phq9-test"),className:"w-full flex items-center justify-center px-4 py-2.5 text-sm font-medium text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 rounded-lg shadow-sm transform transition-all duration-200 hover:scale-[1.02]",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Take PHQ-9 Depression Test"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 transform transition-all duration-300 hover:shadow-md hover:border-indigo-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(w,{className:"h-6 w-6 text-indigo-600"})}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:"GAD-7 Anxiety"})]}),m&&e.jsx("div",{className:d("px-3 py-1 rounded-full text-xs font-medium",u(m.score,"GAD-7").bg,u(m.score,"GAD-7").text),children:y(m.score).level})]}),m?e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Latest Score"}),e.jsxs("span",{className:"text-xl font-bold text-gray-900",children:[m.score,"/21"]})]}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:d("h-2 rounded-full",m.score<5?"bg-green-500":m.score<10?"bg-blue-500":m.score<15?"bg-yellow-500":"bg-red-500"),style:{width:`${m.score/21*100}%`}})}),m.mlPrediction&&e.jsxs("div",{className:"flex items-center mt-3 text-sm",children:[G(m.mlPrediction.trend),e.jsx("span",{className:"ml-1.5 text-gray-600",children:m.mlPrediction.trend==="improving"?"Improving":m.mlPrediction.trend==="stable"?"Stable":"Needs Attention"})]})]})}):e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No GAD-7 assessments yet"}),e.jsxs("button",{onClick:()=>g("/app/mental-health/gad7-test"),className:"w-full flex items-center justify-center px-4 py-2.5 text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 rounded-lg shadow-sm transform transition-all duration-200 hover:scale-[1.02]",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Take GAD-7 Anxiety Test"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 transform transition-all duration-300 hover:shadow-md hover:border-teal-200",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 bg-teal-100 rounded-lg",children:e.jsx(w,{className:"h-6 w-6 text-teal-600"})}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:"DASS-21 Assessment"})]}),c&&c.subScores?e.jsxs("div",{className:"mb-4 space-y-3",children:[e.jsxs("div",{className:"flex flex-col space-y-2.5",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Depression"}),e.jsxs("span",{className:d("text-xs px-2 py-0.5 rounded-full",u(c.subScores.depression,"DASS-21").bg,u(c.subScores.depression,"DASS-21").text),children:[c.subScores.depression,"/42"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Anxiety"}),e.jsxs("span",{className:d("text-xs px-2 py-0.5 rounded-full",u(c.subScores.anxiety,"DASS-21").bg,u(c.subScores.anxiety,"DASS-21").text),children:[c.subScores.anxiety,"/42"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Stress"}),e.jsxs("span",{className:d("text-xs px-2 py-0.5 rounded-full",u(c.subScores.stress,"DASS-21").bg,u(c.subScores.stress,"DASS-21").text),children:[c.subScores.stress,"/42"]})]})]}),c.mlPrediction&&e.jsxs("div",{className:"flex items-center text-sm",children:[G(c.mlPrediction.trend),e.jsx("span",{className:"ml-1.5 text-gray-600",children:c.mlPrediction.trend==="improving"?"Improving":c.mlPrediction.trend==="stable"?"Stable":"Needs Attention"})]})]}):e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No DASS-21 assessments yet"}),e.jsxs("button",{onClick:()=>g("/app/mental-health/dass21-test"),className:"w-full flex items-center justify-center px-4 py-2.5 text-sm font-medium text-white bg-gradient-to-r from-teal-600 to-green-600 hover:from-teal-700 hover:to-green-700 rounded-lg shadow-sm transform transition-all duration-200 hover:scale-[1.02]",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Take DASS-21 Assessment"]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[e.jsx(j,{className:"h-5 w-5 text-indigo-500 mr-2"}),s("assessments.title","Assessment History")]}),i.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsx("div",{className:"mx-auto h-16 w-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(p,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-base font-medium text-gray-900 mb-1",children:s("assessments.noAssessments","No assessments yet")}),e.jsx("p",{className:"text-sm text-gray-500 mb-6 max-w-md mx-auto",children:s("assessments.getStarted","Take your first assessment to start tracking your mental health progress")}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[e.jsx("button",{onClick:()=>g("/app/mental-health/phq9-test"),className:"px-3 py-1.5 text-sm text-purple-700 bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors",children:"Take PHQ-9 Test"}),e.jsx("button",{onClick:()=>g("/app/mental-health/gad7-test"),className:"px-3 py-1.5 text-sm text-indigo-700 bg-indigo-50 hover:bg-indigo-100 rounded-lg transition-colors",children:"Take GAD-7 Test"}),e.jsx("button",{onClick:()=>g("/app/mental-health/dass21-test"),className:"px-3 py-1.5 text-sm text-teal-700 bg-teal-50 hover:bg-teal-100 rounded-lg transition-colors",children:"Take DASS-21 Test"})]})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:i.map(t=>{const r=q(t.risk);return e.jsxs("div",{className:"py-4 first:pt-0 last:pb-0 group transition-colors hover:bg-gray-50 rounded-lg cursor-pointer",onClick:()=>C(x===t.id?null:t.id),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:d("p-2.5 rounded-lg transform transition-transform group-hover:scale-110",r.bg),children:e.jsx(r.icon,{className:"h-5 w-5"})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900 group-hover:text-indigo-700 transition-colors",children:[t.type," - Score: ",t.score]}),e.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500",children:[e.jsx(j,{className:"h-3.5 w-3.5 mr-1.5"}),f(new Date(t.date),"MMMM d, yyyy")]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:n=>$(t.id,n),className:"p-1.5 rounded-md text-gray-400 hover:text-red-500 hover:bg-red-50 transition-colors",title:s("actions.delete","Delete"),children:e.jsx(ge,{className:"h-4 w-4"})}),e.jsx("div",{className:"text-gray-400 group-hover:text-indigo-500 transform transition-transform duration-300",children:x===t.id?e.jsx(O,{className:"h-5 w-5"}):e.jsx(z,{className:"h-5 w-5"})})]})]}),x===t.id&&e.jsxs("div",{className:"mt-4 bg-gray-50 p-4 rounded-lg border border-gray-200 animate-fadeIn",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:s("assessments.type","Assessment Type")}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.type})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:s("assessments.score","Score")}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:t.score})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:s("assessments.date","Date")}),e.jsx("p",{className:"mt-1 text-sm text-gray-900",children:f(new Date(t.date),"MMMM d, yyyy")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500",children:s("assessments.risk","Risk Level")}),e.jsx("p",{className:d("mt-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",r.bg,r.text),children:s(`risk.${t.risk}`,t.risk)})]})]}),t.recommendations&&t.recommendations.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 mb-2",children:s("assessments.recommendations","Recommendations")}),e.jsxs("ul",{className:"space-y-1 pl-5 list-disc text-xs text-gray-700",children:[t.recommendations.slice(0,3).map((n,A)=>e.jsx("li",{children:n},A)),t.recommendations.length>3&&e.jsx("li",{className:"text-indigo-600 cursor-pointer",children:s("assessments.moreRecommendations","+ more recommendations")})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsxs("button",{className:"inline-flex items-center px-3 py-1.5 text-xs font-medium text-indigo-700 bg-indigo-50 rounded-lg hover:bg-indigo-100 transition-colors",onClick:n=>E(t,n),children:[s("actions.viewDetails","View Full Details"),e.jsx(N,{className:"ml-1.5 h-3.5 w-3.5"})]})})]})]},t.id)})})]})}),P&&e.jsx(he,{assessment:P,onClose:()=>H(null)})]})}export{ye as default};
