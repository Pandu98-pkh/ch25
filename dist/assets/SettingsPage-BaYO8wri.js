import{u as D,j as e,b as he,c as w,g as K,d as W,e as ue,f as ge}from"./index-CTZTKUwr.js";import{r as n}from"./react-vendor-CrzWfPmj.js";import{aI as be,aJ as Q,aK as fe,aL as pe,aM as we,g as ye,O as X,G as je,aN as Ne,D as ve,s as Y,r as ke,j as Z,aO as Ce,a9 as Ue}from"./ui-vendor-CN1t4Dfj.js";function _({initialData:s,onSubmit:g,onCancel:M}){const{t:o}=D(),[a,y]=n.useState({id:(s==null?void 0:s.id)||"",name:(s==null?void 0:s.name)||"",email:(s==null?void 0:s.email)||"",role:(s==null?void 0:s.role)||"counselor",username:(s==null?void 0:s.username)||"",password:(s==null?void 0:s.password)||""}),[i,P]=n.useState(!1),m=d=>{const{name:h,value:R}=d.target;y(N=>({...N,[h]:R}))},j=d=>{d.preventDefault(),g(a)};return e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:o("settings.name")}),e.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:m,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-500 focus:border-brand-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:o("settings.email")}),e.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:m,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-500 focus:border-brand-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:o("settings.username")}),e.jsx("input",{type:"text",id:"username",name:"username",value:a.username,onChange:m,required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-500 focus:border-brand-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:o("settings.password")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:i?"text":"password",id:"password",name:"password",value:a.password,onChange:m,required:!s,placeholder:s?"Leave blank to keep current password":"",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-500 focus:border-brand-500"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm text-gray-400 hover:text-gray-500",onClick:()=>P(!i),children:i?"Hide":"Show"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:o("settings.role")}),e.jsxs("select",{id:"role",name:"role",value:a.role,onChange:m,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-brand-500 focus:border-brand-500",children:[e.jsx("option",{value:"admin",children:o("settings.roles.admin")}),e.jsx("option",{value:"counselor",children:o("settings.roles.counselor")}),e.jsx("option",{value:"student",children:o("settings.roles.student")}),e.jsx("option",{value:"staff",children:o("settings.roles.staff")})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:M,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:o("settings.cancel")}),e.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500",children:o(s?"settings.update":"settings.create")})]})]})}function Fe(){const{t:s,language:g,setLanguage:M}=D(),{isAdmin:o}=he(),[a,y]=n.useState({email:!0,desktop:!0,mentionEmail:!1,mentionDesktop:!0}),[i,P]=n.useState(!1),[m,j]=n.useState("general"),[d,h]=n.useState([]),[R,N]=n.useState(!0),[v,ee]=n.useState(""),[se,k]=n.useState(!1),[te,C]=n.useState(!1),[re,$]=n.useState(!1),[U,u]=n.useState(null),[ae,O]=n.useState(!1),[V,T]=n.useState([]),q=n.useRef(null);n.useEffect(()=>{(async()=>{try{N(!0);const r=await K();h(r)}catch(r){console.error("Error loading users:",r)}finally{N(!1)}})()},[]);const A=d.filter(t=>t.name.toLowerCase().includes(v.toLowerCase())||t.email.toLowerCase().includes(v.toLowerCase())||t.role.toLowerCase().includes(v.toLowerCase())),ne=async t=>{try{const r=await W(t);h([...d,r]),k(!1)}catch(r){console.error("Error creating user:",r),alert("Failed to create user. Please try again.")}},oe=async t=>{try{if(!t.id)return;const r=await ue(t.id,t);h(d.map(l=>l.id===t.id?r:l)),C(!1),u(null)}catch(r){console.error("Error updating user:",r),alert("Failed to update user. Please try again.")}},le=async t=>{try{await ge(t),h(d.filter(r=>r.id!==t)),$(!1),u(null)}catch(r){console.error("Error deleting user:",r),alert("Failed to delete user. Please try again.")}},de=()=>{var t;(t=q.current)==null||t.click()},ie=t=>{var b;const r=(b=t.target.files)==null?void 0:b[0];if(!r)return;const l=new FileReader;l.onload=S=>{var x;try{const c=((x=S.target)==null?void 0:x.result).split(`
`),E=c[0].split(",").map(f=>f.trim()),B=E.indexOf("name"),G=E.indexOf("email"),H=E.indexOf("role"),J=E.indexOf("username");if(B===-1||G===-1||H===-1){alert("Invalid CSV format. The file must contain name, email, and role columns.");return}const p=[];for(let f=1;f<c.length;f++){if(!c[f].trim())continue;const F=c[f].split(",").map(xe=>xe.trim()),L={id:(d.length+p.length+1).toString(),name:F[B],email:F[G],role:F[H],username:J!==-1?F[J]:`user${d.length+p.length+1}`,password:"password123"};L.name&&L.email&&L.role&&p.push(L)}p.length>0?(T(p),O(!0)):alert("No valid users found in the CSV file.")}catch{alert("Error parsing CSV file. Please ensure the file contains valid CSV data.")}},l.readAsText(r),t.target.value=""},ce=async()=>{try{for(const r of V){const{id:l,...b}=r;await W(b)}const t=await K();h(t),O(!1),T([])}catch(t){console.error("Error importing users:",t),alert("Failed to import some users. Please try again.")}},me=()=>{const t=["id","name","email","role","username"],r=d.map(({password:I,...c})=>[c.id,c.name,c.email,c.role,c.username]),l=[t.join(","),...r.map(I=>I.join(","))].join(`
`),b=new Blob([l],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(b),x=document.createElement("a");x.href=S,x.download="users.csv",document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(S)};n.useEffect(()=>{i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[i]);const z=t=>{M(t)};return R?e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8"}),e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-8",children:[e.jsx("div",{className:"h-12 bg-gray-100 border-b border-gray-200"}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"h-10 bg-gray-100 rounded"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"h-10 bg-gray-100 rounded"})]})]})]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-8 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl px-8 py-6 shadow-lg",children:[e.jsx("h1",{className:"text-3xl font-bold",children:s("settings.title")}),e.jsx("p",{className:"mt-2 text-indigo-100 max-w-3xl",children:s("settings.subtitle")})]}),e.jsxs("div",{className:"bg-white shadow-xl rounded-xl overflow-hidden mb-8 border border-gray-100",children:[e.jsx("div",{className:"border-b border-gray-200 bg-gray-50",children:e.jsxs("nav",{className:"flex -mb-px",children:[e.jsxs("button",{onClick:()=>j("general"),className:w("px-6 py-4 font-medium text-sm border-b-2 whitespace-nowrap flex items-center",m==="general"?"border-brand-500 text-brand-600 bg-white":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.jsx(be,{className:"w-4 h-4 mr-2"}),s("settings.tabs.general")]}),o&&e.jsxs("button",{onClick:()=>j("users"),className:w("px-6 py-4 font-medium text-sm border-b-2 whitespace-nowrap flex items-center",m==="users"?"border-brand-500 text-brand-600 bg-white":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),s("settings.tabs.userManagement")]})]})}),m==="general"||!o?e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-100 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-lg flex items-center justify-center text-white shadow-md",children:e.jsx(fe,{className:"h-5 w-5"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 ml-3",children:s("settings.appearance")})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"relative inline-flex h-7 w-14 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-brand-600 focus:ring-offset-2 bg-gray-200",role:"switch","aria-checked":i,onClick:()=>P(!i),children:e.jsx("span",{className:`pointer-events-none relative inline-block h-6 w-6 transform rounded-full shadow ring-0 transition duration-200 ease-in-out ${i?"translate-x-7 bg-brand-600":"translate-x-0 bg-white"}`,children:i?e.jsx(pe,{className:"h-4 w-4 absolute top-1 left-1 text-white"}):e.jsx(we,{className:"h-4 w-4 absolute top-1 left-1 text-yellow-500"})})}),e.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:s("settings.darkMode")})]})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-100 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-red-500 to-pink-500 rounded-lg flex items-center justify-center text-white shadow-md",children:e.jsx(ye,{className:"h-5 w-5"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 ml-3",children:s("settings.notifications")})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email-notifications",className:"text-sm font-medium text-gray-800 block",children:s("settings.emailNotifications")}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Receive email updates about your account activity"})]}),e.jsx("div",{className:"relative inline-flex h-7 w-14 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-brand-600 focus:ring-offset-2 bg-gray-200",role:"switch","aria-checked":a.email,id:"email-notifications",onClick:()=>y({...a,email:!a.email}),children:e.jsx("span",{className:`pointer-events-none relative inline-block h-6 w-6 transform rounded-full shadow ring-0 transition duration-200 ease-in-out ${a.email?"translate-x-7 bg-brand-600":"translate-x-0 bg-white"}`,children:a.email&&e.jsx(X,{className:"h-4 w-4 absolute top-1 left-1 text-white"})})})]}),e.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"desktop-notifications",className:"text-sm font-medium text-gray-800 block",children:s("settings.desktopNotifications")}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Show desktop notifications for important updates"})]}),e.jsx("div",{className:"relative inline-flex h-7 w-14 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-brand-600 focus:ring-offset-2 bg-gray-200",role:"switch","aria-checked":a.desktop,id:"desktop-notifications",onClick:()=>y({...a,desktop:!a.desktop}),children:e.jsx("span",{className:`pointer-events-none relative inline-block h-6 w-6 transform rounded-full shadow ring-0 transition duration-200 ease-in-out ${a.desktop?"translate-x-7 bg-brand-600":"translate-x-0 bg-white"}`,children:a.desktop&&e.jsx(X,{className:"h-4 w-4 absolute top-1 left-1 text-white"})})})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-100 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-green-500 to-teal-500 rounded-lg flex items-center justify-center text-white shadow-md",children:e.jsx(je,{className:"h-5 w-5"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 ml-3",children:s("settings.language")})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>z("en"),className:`px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 flex items-center ${g==="en"?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-md transform scale-105":"border border-gray-300 text-gray-700 bg-white hover:bg-gray-50"}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-full mr-2 border-2 overflow-hidden ${g==="en"?"border-white":"border-gray-200"}`,children:e.jsx("div",{className:"w-full h-full bg-blue-600 flex items-center justify-center text-xs font-bold text-white",children:"EN"})}),"English"]}),e.jsxs("button",{onClick:()=>z("id"),className:`px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 flex items-center ${g==="id"?"bg-gradient-to-r from-red-600 to-red-500 text-white shadow-md transform scale-105":"border border-gray-300 text-gray-700 bg-white hover:bg-gray-50"}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-full mr-2 border-2 overflow-hidden ${g==="id"?"border-white":"border-gray-200"}`,children:e.jsx("div",{className:"w-full h-full bg-red-600 flex items-center justify-center text-xs font-bold text-white",children:"ID"})}),"Indonesia"]})]})})]})]}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg flex items-center justify-center text-white shadow-md mr-3",children:e.jsx(Q,{className:"h-5 w-5"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s("settings.userManagement")})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("button",{onClick:de,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 shadow-sm transition-all duration-200 hover:text-brand-600 hover:border-brand-500",children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),s("settings.importUsers")]}),e.jsx("input",{type:"file",ref:q,accept:".csv",onChange:ie,className:"hidden"}),e.jsxs("button",{onClick:me,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 shadow-sm transition-all duration-200 hover:text-brand-600 hover:border-brand-500",children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),s("settings.exportUsers")]}),e.jsxs("button",{onClick:()=>k(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-gradient-to-r from-brand-600 to-purple-600 hover:from-brand-700 hover:to-purple-700 shadow-md transition-all duration-200 transform hover:-translate-y-0.5",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),s("settings.addUser")]})]})]})}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ke,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",placeholder:s("settings.searchUsers"),value:v,onChange:t=>ee(t.target.value),className:"pl-10 pr-4 py-3 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 shadow-sm bg-white"})]}),e.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200 shadow-md",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:s("settings.name")}),e.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:s("settings.username")}),e.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:s("settings.email")}),e.jsx("th",{scope:"col",className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:s("settings.role")}),e.jsx("th",{scope:"col",className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:s("settings.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map((t,r)=>e.jsxs("tr",{className:`hover:bg-indigo-50/30 transition-colors ${r%2===0?"bg-white":"bg-gray-50/50"}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-full flex items-center justify-center border border-indigo-200",children:e.jsx(Z,{className:"h-5 w-5 text-indigo-600"})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded-md inline-block",children:t.username})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 mr-2"}),t.email]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:w("px-3 py-1.5 rounded-full text-xs font-medium",t.role==="admin"?"bg-purple-100 text-purple-800 border border-purple-200":t.role==="counselor"?"bg-blue-100 text-blue-800 border border-blue-200":"bg-green-100 text-green-800 border border-green-200"),children:t.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>{u(t),C(!0)},className:"text-brand-600 hover:text-brand-900 p-1.5 rounded-full hover:bg-brand-50 transition-colors",children:e.jsx(Ce,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>{u(t),$(!0)},className:"text-red-600 hover:text-red-900 p-1.5 rounded-full hover:bg-red-50 transition-colors",disabled:t.role==="admin"&&A.filter(l=>l.role==="admin").length===1,children:e.jsx(Ue,{className:w("h-5 w-5",t.role==="admin"&&A.filter(l=>l.role==="admin").length===1?"opacity-50 cursor-not-allowed":"")})})]})})]},t.id))})]})})})]})]}),se&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full transform transition-all",style:{animation:"modalFadeIn 0.3s ease-out"},children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4 rounded-t-xl text-white flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Y,{className:"h-5 w-5 mr-2"}),s("settings.addUser")]}),e.jsx("button",{onClick:()=>k(!1),className:"text-white/80 hover:text-white p-1.5 rounded-full hover:bg-white/10 transition-colors",children:e.jsx("span",{className:"text-xl",children:"×"})})]}),e.jsx("div",{className:"p-6",children:e.jsx(_,{onSubmit:ne,onCancel:()=>k(!1)})})]})}),e.jsx("style",{children:`
          @keyframes modalFadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
          }
        `}),te&&U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full transform transition-all",style:{animation:"modalFadeIn 0.3s ease-out"},children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4 rounded-t-xl text-white flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Z,{className:"h-5 w-5 mr-2"}),s("settings.editUser")]}),e.jsx("button",{onClick:()=>{C(!1),u(null)},className:"text-white/80 hover:text-white p-1.5 rounded-full hover:bg-white/10 transition-colors",children:e.jsx("span",{className:"text-xl",children:"×"})})]}),e.jsx("div",{className:"p-6",children:e.jsx(_,{initialData:U,onSubmit:oe,onCancel:()=>{C(!1),u(null)}})})]})}),re&&U&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:s("settings.confirmDelete")}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:s("settings.deleteConfirmation")}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{$(!1),u(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:s("settings.cancel")}),e.jsx("button",{onClick:()=>le(U.id),className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:s("settings.confirmDelete")})]})]})}),ae&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-4xl max-h-[80vh] overflow-auto",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:s("settings.importPreview")}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:s("settings.importCSVDescription")||'Review the users that will be imported from your CSV file. Click "Import" to add these users to the system.'}),e.jsx("div",{className:"overflow-x-auto mb-6",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("settings.name")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("settings.username")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("settings.email")}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("settings.role")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V.map((t,r)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:t.username})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:t.email})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:w("px-2.5 py-0.5 rounded-full text-xs font-medium",t.role==="admin"?"bg-purple-100 text-purple-800":t.role==="counselor"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:t.role})})]},r))})]})}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{O(!1),T([])},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:s("settings.cancel")}),e.jsx("button",{onClick:ce,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-brand-600 hover:bg-brand-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500",children:s("settings.confirmImport")})]})]})})]})}export{Fe as default};
