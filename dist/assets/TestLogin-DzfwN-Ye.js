import{j as e,d as b}from"./index-Cpum2A6d.js";import{r}from"./react-vendor-BzbKlFBU.js";import"./ui-vendor-CCWSLpt1.js";const y=()=>{const[a,p]=r.useState(""),[o,h]=r.useState(""),[t,l]=r.useState(null),[d,i]=r.useState(!1),[c,u]=r.useState(""),m=async()=>{i(!0),u(""),l(null);const x=`${window.location.origin}/api/users/auth/login`;console.log("Testing login with:",{endpoint:x,username:a,hasPassword:!!o});try{const s=await b({method:"POST",url:x,data:{username:a,password:o},timeout:3e4,headers:{"Content-Type":"application/json"},validateStatus:g=>g<500});console.log("Login response:",s),l({status:s.status,statusText:s.statusText,data:s.data,headers:s.headers})}catch(s){console.error("Login error:",s),s.response?l({status:s.response.status,statusText:s.response.statusText,data:s.response.data,headers:s.response.headers,isError:!0}):u(`Network Error: ${s.message}`)}finally{i(!1)}};return e.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Test Login API"}),e.jsxs("div",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Username:"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",value:a,onChange:n=>p(n.target.value),placeholder:"Enter username"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Password:"}),e.jsx("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",type:"password",value:o,onChange:n=>h(n.target.value),placeholder:"Enter password"})]}),e.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline disabled:opacity-50",onClick:m,disabled:d||!a||!o,children:d?"Testing...":"Test Login"})]}),c&&e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[e.jsx("strong",{children:"Error:"})," ",c]}),t&&e.jsxs("div",{className:`border rounded-lg p-4 ${t.isError?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[e.jsxs("h3",{className:"font-semibold text-lg mb-2",children:["Response (",t.status," ",t.statusText,")"]}),e.jsx("pre",{className:"bg-white p-2 rounded text-sm overflow-x-auto",children:JSON.stringify(t.data,null,2)}),e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"cursor-pointer text-sm text-gray-600",children:"Show Headers"}),e.jsx("pre",{className:"bg-gray-100 p-2 rounded text-xs mt-2",children:JSON.stringify(t.headers,null,2)})]})]}),e.jsxs("div",{className:"mt-6 text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Endpoint:"})," ",window.location.origin,"/api/users/auth/login"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Method:"})," POST"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Content-Type:"})," application/json"]})]})]})};export{y as default};
