import{o as Re,r as te,j as e}from"./index-B3Llw9lN.js";import{u as Ke,r as u}from"./react-vendor-BzbKlFBU.js";import{s as Me,i as b,j as H,A as f,r as K,f as T,X as le,v as $,aA as Pe,$ as Ge,e as O}from"./ui-vendor-BdkMv6fW.js";const k=[{id:"Saya merasa sulit untuk bersantai",en:"I found it hard to wind down"},{id:"Saya menyadari mulut saya kering",en:"I was aware of dryness of my mouth"},{id:"Saya sepertinya tidak bisa merasakan perasaan positif sama sekali",en:"I couldn't seem to experience any positive feeling at all"},{id:"Saya mengalami kesulitan bernapas (misalnya bernapas terlalu cepat, sesak napas tanpa aktivitas fisik)",en:"I experienced breathing difficulty (eg. excessively rapid breathing, breathlessness in the absence of physical exertion)"},{id:"Saya merasa sulit untuk memulai melakukan sesuatu",en:"I found it difficult to work up the initiative to do things"},{id:"Saya cenderung bereaksi berlebihan terhadap situasi",en:"I tended to over-react to situations"},{id:"Saya mengalami gemetar (misalnya di tangan)",en:"I experienced trembling (eg. in the hands)"},{id:"Saya merasa menggunakan banyak energi saraf",en:"I felt that I was using a lot of nervous energy"},{id:"Saya khawatir tentang situasi di mana saya mungkin panik dan membuat diri saya terlihat bodoh",en:"I was worried about situations in which I might panic and make a fool of myself"},{id:"Saya merasa tidak ada yang bisa saya nantikan",en:"I felt that I had nothing to look forward to"},{id:"Saya mendapati diri saya menjadi gelisah",en:"I found myself getting agitated"},{id:"Saya merasa sulit untuk rileks",en:"I found it difficult to relax"},{id:"Saya merasa sedih dan putus asa",en:"I felt down-hearted and blue"},{id:"Saya tidak toleran terhadap hal apapun yang menghalangi saya melakukan apa yang ingin saya lakukan",en:"I was intolerant of anything that kept me from getting on with what I was doing"},{id:"Saya merasa hampir panik",en:"I felt I was close to panic"},{id:"Saya tidak bisa menjadi antusias tentang apapun",en:"I was unable to become enthusiastic about anything"},{id:"Saya merasa tidak berharga sebagai seseorang",en:"I felt I wasn't worth much as a person"},{id:"Saya merasa agak sensitif",en:"I felt that I was rather touchy"},{id:"Saya menyadari detak jantung saya tanpa aktivitas fisik (misalnya merasakan detak jantung meningkat, jantung berdebar)",en:"I was aware of the action of my heart in the absence of physical exertion (eg. sense of heart rate increase, heart missing a beat)"},{id:"Saya merasa takut tanpa alasan yang jelas",en:"I felt scared without any good reason"},{id:"Saya merasa hidup tidak berarti",en:"I felt that life was meaningless"}],C=["stress","anxiety","depression","anxiety","depression","stress","anxiety","stress","anxiety","depression","stress","stress","depression","stress","anxiety","depression","depression","stress","anxiety","anxiety","depression"],j=[{id:"Kurang minat atau kesenangan dalam melakukan hal-hal",en:"Little interest or pleasure in doing things"},{id:"Merasa sedih, depresi, atau putus asa",en:"Feeling down, depressed, or hopeless"},{id:"Kesulitan tertidur atau tetap tidur, atau tidur terlalu banyak",en:"Trouble falling or staying asleep, or sleeping too much"},{id:"Merasa lelah atau memiliki sedikit energi",en:"Feeling tired or having little energy"},{id:"Nafsu makan buruk atau makan berlebihan",en:"Poor appetite or overeating"},{id:"Merasa buruk tentang diri sendiri atau merasa gagal atau mengecewakan diri sendiri atau keluarga",en:"Feeling bad about yourself or that you are a failure or have let yourself or your family down"},{id:"Kesulitan berkonsentrasi pada hal-hal seperti membaca koran atau menonton televisi",en:"Trouble concentrating on things, such as reading the newspaper or watching television"},{id:"Bergerak atau berbicara sangat lambat sehingga orang lain dapat memperhatikan. Atau sebaliknya ‚Äî sangat gelisah sehingga bergerak lebih banyak dari biasanya",en:"Moving or speaking so slowly that other people could have noticed. Or the opposite ‚Äî being so fidgety or restless that you have been moving around a lot more than usual"},{id:"Pikiran bahwa lebih baik mati atau menyakiti diri sendiri dengan cara tertentu",en:"Thoughts that you would be better off dead or of hurting yourself in some way"}],v=[{id:"Merasa gugup, cemas, atau tegang",en:"Feeling nervous, anxious, or on edge"},{id:"Tidak dapat menghentikan atau mengendalikan kekhawatiran",en:"Not being able to stop or control worrying"},{id:"Terlalu khawatir tentang berbagai hal",en:"Worrying too much about different things"},{id:"Kesulitan untuk rileks",en:"Trouble relaxing"},{id:"Sangat gelisah sehingga sulit untuk duduk diam",en:"Being so restless that it's hard to sit still"},{id:"Mudah kesal atau mudah tersinggung",en:"Becoming easily annoyed or irritable"},{id:"Merasa takut seolah-olah sesuatu yang mengerikan akan terjadi",en:"Feeling afraid as if something awful might happen"}],ie=[{value:0,text:"Not at all",label:"Tidak sama sekali"},{value:1,text:"Several days",label:"Beberapa hari"},{value:2,text:"More than half the days",label:"Lebih dari setengah hari"},{value:3,text:"Nearly every day",label:"Hampir setiap hari"}];function Le(){const B=Ke(),{user:t}=Re(),[J,I]=u.useState(null),[z,M]=u.useState(null),[He,_]=u.useState(!1),[$e,W]=u.useState(null),[c,w]=u.useState("INFO"),[g,Y]=u.useState(0),[S,re]=u.useState(Array(j.length).fill(-1)),[A,de]=u.useState(Array(k.length).fill(-1)),[P,me]=u.useState(Array(v.length).fill(-1)),[oe,X]=u.useState(!1),ce=900,[U,ue]=u.useState(ce),[L,he]=u.useState(!1),[xe,ge]=u.useState(!1),q=u.useRef(null);u.useEffect(()=>{(async()=>{if(t!=null&&t.id)try{const n=await te(t.id);n?(I(n.studentId),M(null)):(I(null),M(`No student record found for user ID: ${t.id}`))}catch(n){console.error("Error resolving student ID:",n),I(null),M(`Error resolving student ID: ${n}`)}else I(null),M("No user logged in")})()},[t==null?void 0:t.id]);const pe=()=>{xe||(ge(!0),q.current=window.setInterval(()=>{ue(a=>a<=1?(he(!0),0):a-1)},1e3))};u.useEffect(()=>()=>{q.current&&clearInterval(q.current)},[]),u.useEffect(()=>{L&&ae()},[L]);const V=()=>{switch(c){case"PHQ9":return j;case"DASS21":return k;case"GAD7":return v;default:return[]}},Q=()=>{switch(c){case"PHQ9":return S;case"DASS21":return A;case"GAD7":return P;default:return[]}},be=a=>{switch(c){case"PHQ9":re(a);break;case"DASS21":de(a);break;case"GAD7":me(a);break}},Z=()=>Q()[g]!==-1,G=()=>Z(),je=()=>{X(!0)},fe=()=>{B("/app/mental-health")},ke=()=>{X(!1)},Ne=()=>{if(!G())return;const a=V();g<a.length-1?Y(g+1):ve()},ye=()=>{},ve=()=>{switch(Y(0),c){case"PHQ9":w("DASS21");break;case"DASS21":w("GAD7");break;case"GAD7":ae();break}},we=a=>{const l=[...Q()];l[g]=a,be(l)},ee=()=>{const a=S.reduce((p,d)=>p+(d>=0?d:0),0),n=A.filter((p,d)=>C[d]==="depression").reduce((p,d)=>p+(d>=0?d*2:0),0),l=A.filter((p,d)=>C[d]==="anxiety").reduce((p,d)=>p+(d>=0?d*2:0),0),i=A.filter((p,d)=>C[d]==="stress").reduce((p,d)=>p+(d>=0?d*2:0),0),m=P.reduce((p,d)=>p+(d>=0?d:0),0),h=a/27*100,x=n/42*100,s=l/42*100,D=i/42*100,o=m/21*100,r=(h+x+s+D+o)/5;return{overall:Math.round(100-r),phq9:a,depression:n,anxiety:l,stress:i,gad7:m,rawScores:{phq9:a,gad7:m,depression:n,anxiety:l,stress:i}}},Se=a=>{const{overall:n,phq9:l,depression:i,anxiety:m,stress:h,gad7:x}=a;let s=`HASIL ANALISIS KESEHATAN MENTAL KOMPREHENSIF
`;s+=`${"=".repeat(60)}

`,n>=85?(s+=`üìä STATUS: KESEHATAN MENTAL SANGAT BAIK üíö
`,s+=`‚ú® Interpretasi: Anda memiliki kesehatan mental yang sangat baik dengan resiliensi tinggi.
`,s+=`   Kemampuan mengelola stres dan emosi berada pada level optimal.

`):n>=70?(s+=`üìä STATUS: KESEHATAN MENTAL BAIK ‚úÖ
`,s+=`‚ú® Interpretasi: Kondisi kesehatan mental Anda cukup baik, namun ada beberapa area
`,s+=`   yang memerlukan perhatian untuk mencegah penurunan lebih lanjut.

`):n>=55?(s+=`üìä STATUS: MEMERLUKAN PERHATIAN KHUSUS ‚ö†Ô∏è
`,s+=`‚ú® Interpretasi: Terdapat gejala yang signifikan dan memerlukan intervensi profesional.
`,s+=`   Kondisi ini dapat mempengaruhi fungsi sehari-hari dan kualitas hidup.

`):(s+=`üìä STATUS: MEMERLUKAN BANTUAN SEGERA üö®
`,s+=`‚ú® Interpretasi: Kondisi ini menunjukkan gejala berat yang memerlukan perhatian
`,s+=`   medis dan psikologis segera untuk mencegah komplikasi lebih lanjut.

`),s+=`üìã ANALISIS RINCI PER DOMAIN:
`,s+=`${"-".repeat(50)}

`;const D=l<=4?"Minimal":l<=9?"Ringan":l<=14?"Sedang":l<=19?"Sedang-Berat":"Berat";s+=`üß† DEPRESI (PHQ-9): ${l}/27 - ${D}
`,l<=4?s+=`   ‚úÖ Tidak ada atau minimal gejala depresi. Mood dan motivasi dalam kondisi baik.
`:l<=9?s+=`   ‚ö° Gejala depresi ringan. Mungkin mengalami penurunan mood sesekali.
`:l<=14?s+=`   ‚ö†Ô∏è Gejala depresi sedang. Mempengaruhi aktivitas sehari-hari.
`:l<=19?s+=`   üî¥ Gejala depresi sedang-berat. Gangguan signifikan pada fungsi harian.
`:s+=`   üö® Gejala depresi berat. Memerlukan intervensi segera.
`;const o=S.map((y,R)=>({value:y,index:R})).filter(y=>y.value>=2).sort((y,R)=>R.value-y.value);if(o.length>0){s+="   üéØ Gejala utama: ";const y=["kehilangan minat","perasaan sedih","gangguan tidur","kelelahan","masalah nafsu makan","perasaan gagal","kesulitan konsentrasi","gerakan lambat/gelisah","pikiran berbahaya"],R=o.map(Ee=>y[Ee.index]);s+=R.slice(0,3).join(", ")+`
`}s+=`
`;const r=i<=9?"Normal":i<=13?"Ringan":i<=20?"Sedang":i<=27?"Berat":"Sangat Berat";s+=`üòî DEPRESI (DASS-21): ${i}/42 - ${r}
`,i<=9?s+=`   ‚úÖ Level depresi dalam rentang normal.
`:i<=13?s+=`   ‚ö° Depresi ringan, dapat dikelola dengan strategi self-help.
`:i<=20?s+=`   ‚ö†Ô∏è Depresi sedang, disarankan konsultasi profesional.
`:s+=`   üö® Depresi berat, memerlukan intervensi segera.
`,s+=`
`;const ne=m<=7?"Normal":m<=9?"Ringan":m<=14?"Sedang":m<=19?"Berat":"Sangat Berat";s+=`üò∞ KECEMASAN (DASS-21): ${m}/42 - ${ne}
`,m<=7?s+=`   ‚úÖ Level kecemasan dalam rentang normal.
`:m<=9?s+=`   ‚ö° Kecemasan ringan, dapat dikelola dengan teknik relaksasi.
`:m<=14?s+=`   ‚ö†Ô∏è Kecemasan sedang, pertimbangkan terapi atau konseling.
`:s+=`   üö® Kecemasan berat, memerlukan bantuan profesional.
`,s+=`
`;const p=h<=14?"Normal":h<=18?"Ringan":h<=25?"Sedang":h<=33?"Berat":"Sangat Berat";s+=`üò§ STRES (DASS-21): ${h}/42 - ${p}
`,h<=14?s+=`   ‚úÖ Level stres dalam rentang normal.
`:h<=18?s+=`   ‚ö° Stres ringan, perlu perbaikan manajemen stres.
`:h<=25?s+=`   ‚ö†Ô∏è Stres sedang, butuh strategi coping yang lebih efektif.
`:s+=`   üö® Stres berat, dapat mengganggu fungsi fisik dan mental.
`,s+=`
`;const d=x<=4?"Minimal":x<=9?"Ringan":x<=14?"Sedang":"Berat";s+=`üòü KECEMASAN UMUM (GAD-7): ${x}/21 - ${d}
`,x<=4?s+=`   ‚úÖ Tidak ada atau minimal kecemasan umum.
`:x<=9?s+=`   ‚ö° Kecemasan umum ringan, dapat dikelola dengan self-care.
`:x<=14?s+=`   ‚ö†Ô∏è Kecemasan umum sedang, pertimbangkan konseling.
`:s+=`   üö® Kecemasan umum berat, memerlukan evaluasi klinis.
`,s+=`
`,s+=`üîç ANALISIS POLA DAN FAKTOR RISIKO:
`,s+=`${"-".repeat(40)}
`;const E=Math.max(l/27,i/42,m/42,h/42,x/21);l/27===E||i/42===E?(s+=`‚Ä¢ Domain utama yang terdampak: DEPRESI
`,s+=`  Fokus intervensi: Aktivasi perilaku, terapi kognitif
`):m/42===E||x/21===E?(s+=`‚Ä¢ Domain utama yang terdampak: KECEMASAN
`,s+=`  Fokus intervensi: Teknik relaksasi, terapi eksposur
`):h/42===E&&(s+=`‚Ä¢ Domain utama yang terdampak: STRES
`,s+=`  Fokus intervensi: Manajemen stres, mindfulness
`);const F=[l>9?"PHQ-9":null,i>13?"DASS-Depresi":null,m>9?"DASS-Kecemasan":null,h>18?"DASS-Stres":null,x>9?"GAD-7":null].filter(Boolean);return F.length>1&&(s+=`‚Ä¢ Komorbiditas: Terdapat ${F.length} domain dengan gejala signifikan
`,s+=`  (${F.join(", ")})
`,s+=`  Rekomendasi: Pendekatan terintegrasi dan holistik
`),s+=`
`,s+=`üí° REKOMENDASI KOMPREHENSIF:
`,s+=`${"=".repeat(40)}

`,s+=`üè• LANGKAH SEGERA:
`,n>=85?(s+=`‚Ä¢ Pertahankan gaya hidup sehat yang sudah berjalan
`,s+=`‚Ä¢ Lakukan asesmen berkala setiap 6 bulan
`,s+=`‚Ä¢ Jadilah role model kesehatan mental bagi orang lain
`):n>=70?(s+=`‚Ä¢ Evaluasi dan perbaiki area yang bermasalah
`,s+=`‚Ä¢ Tingkatkan aktivitas self-care harian
`,s+=`‚Ä¢ Asesmen lanjutan dalam 3 bulan
`):n>=55?(s+=`‚Ä¢ WAJIB konsultasi dengan psikolog/konselor dalam 1-2 minggu
`,s+=`‚Ä¢ Pertimbangkan psikoterapi (CBT, DBT, atau lainnya)
`,s+=`‚Ä¢ Monitoring ketat oleh profesional kesehatan mental
`):(s+=`‚Ä¢ SEGERA kunjungi psikiater atau layanan darurat mental health
`,s+=`‚Ä¢ Evaluasi untuk kemungkinan medikasi
`,s+=`‚Ä¢ Sistem dukungan 24/7 harus aktif
`,s+=`‚Ä¢ Hospitalisasi mungkin diperlukan jika ada risiko tinggi
`),s+=`
`,s+=`üßò STRATEGI SELF-CARE:
`,s+=`‚Ä¢ Tidur: 7-9 jam per malam, jadwal konsisten
`,s+=`‚Ä¢ Olahraga: Minimal 30 menit, 3x seminggu
`,s+=`‚Ä¢ Nutrisi: Diet seimbang, hindari alkohol berlebihan
`,s+=`‚Ä¢ Mindfulness: Meditasi 10-15 menit harian
`,s+=`‚Ä¢ Sosial: Pertahankan koneksi dengan support system
`,s+=`‚Ä¢ Hobi: Aktivitas yang memberikan kegembiraan

`,s+=`üéØ TERAPI YANG DIREKOMENDASIKAN:
`,(l>14||i>20)&&(s+=`‚Ä¢ Cognitive Behavioral Therapy (CBT) untuk depresi
`,s+=`‚Ä¢ Behavioral Activation untuk meningkatkan motivasi
`),(m>14||x>14)&&(s+=`‚Ä¢ Exposure and Response Prevention untuk kecemasan
`,s+=`‚Ä¢ Acceptance and Commitment Therapy (ACT)
`),h>25&&(s+=`‚Ä¢ Stress Management Training
`,s+=`‚Ä¢ Mindfulness-Based Stress Reduction (MBSR)
`),s+=`‚Ä¢ Family/couples therapy jika diperlukan

`,s+=`üìû KONTAK DARURAT:
`,s+=`‚Ä¢ Hotline Crisis: 119 ext 8
`,s+=`‚Ä¢ Halo Kemkes: 1500-567
`,s+=`‚Ä¢ LSM Jangan Bunuh Diri: 021-9696-9293
`,s+=`‚Ä¢ Emergency: 112 atau rumah sakit terdekat

`,S[8]>0&&(s+=`üö® PERINGATAN KHUSUS:
`,s+=`Terdeteksi adanya pikiran untuk menyakiti diri sendiri.
`,s+=`SEGERA hubungi layanan krisis atau orang terdekat.
`,s+=`JANGAN biarkan diri sendiri tanpa pengawasan.

`),s+=`üìã FOLLOW-UP:
`,s+=`‚Ä¢ Asesmen ulang: ${n>=70?"3 bulan":n>=55?"1 bulan":"2 minggu"}
`,s+=`‚Ä¢ Target perbaikan skor: +10-15 poin dalam 3 bulan
`,s+=`‚Ä¢ Indikator keberhasilan: Perbaikan fungsi sehari-hari

`,s+=`${"-".repeat(60)}
`,s+=`Catatan: Hasil ini adalah asesmen awal dan bukan diagnosis klinis.
`,s+=`Untuk diagnosis dan treatment plan yang akurat, konsultasi dengan
`,s+=`profesional kesehatan mental tetap diperlukan.
`,s},ae=async()=>{console.log("üîÑ handleSubmitAllTests called!"),console.log("üìù Current responses:",{phq9:S,dass21:A,gad7:P}),w("PROCESSING"),_(!0),W(null),await new Promise(a=>setTimeout(a,2500));try{if(!(t!=null&&t.userId))throw new Error("User must be logged in to submit assessment");console.log(`üîç Resolving user ID ${t.userId} to student ID...`);const a=await te(t.userId);if(!a)throw new Error(`No student record found for user ID: ${t.userId}. Please contact administrator.`);const n=a.studentId;console.log(`‚úÖ Resolved to student ID: ${n}`),I(n);const l=ee();console.log("üìä Calculated scores:",l);const i=l.overall>=70?"low":l.overall>=55?"moderate":"high",m=[...S.map((o,r)=>({questionId:r+1,answer:o>=0?o:0,category:"phq9",question:typeof j[r]=="object"?j[r].id:j[r]})),...A.map((o,r)=>({questionId:j.length+r+1,answer:o>=0?o:0,category:C[r],question:typeof k[r]=="object"?k[r].id:k[r]})),...P.map((o,r)=>({questionId:j.length+k.length+r+1,answer:o>=0?o:0,category:"gad7",question:typeof v[r]=="object"?v[r].id:v[r]}))],h=Se(l),x={studentId:n,type:"Integrated Mental Health",score:l.overall,risk:i,notes:h,date:Me(new Date,"yyyy-MM-dd"),category:"self-assessment",responses:m.reduce((o,r)=>(o[r.questionId.toString()]=r.answer,o),{}),recommendations:[`Follow-up assessment: ${l.overall>=70?"3 months":l.overall>=55?"1 month":"2 weeks"}`,"Target improvement: +10-15 points in 3 months","Success indicator: Improved daily functioning",...i==="high"?["Immediate professional consultation recommended"]:[],...i==="moderate"?["Regular monitoring recommended"]:[]]};console.log("üß† Starting integrated assessment submission"),console.log("üìä Assessment data:",x);const s=await fetch("http://localhost:5000/api/mental-health/assessments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!s.ok){const o=await s.json().catch(()=>({error:"Unknown error"}));throw new Error(o.error||`HTTP ${s.status}: ${s.statusText}`)}const D=await s.json();console.log("‚úÖ Assessment saved successfully:",D),w("RESULTS")}catch(a){console.error("‚ùå Error saving integrated assessment:",a),W(a instanceof Error?a.message:"Failed to save assessment"),w("RESULTS")}finally{_(!1)}},Ae=a=>{const n=Math.floor(a/60),l=a%60;return`${n}:${l.toString().padStart(2,"0")}`},Te=()=>U<60?"bg-red-600 text-white":U<300?"bg-yellow-600 text-white":"bg-indigo-600 text-white",se=()=>{const n=["PHQ9","DASS21","GAD7"].indexOf(c),l=j.length+k.length+v.length;let i=0;return n>0&&(i+=j.length),n>1&&(i+=k.length),i+=g,i/l*100},Ie=()=>{switch(c){case"PHQ9":return"Test Depresi (PHQ-9)";case"DASS21":return"Test Depresi, Kecemasan & Stres (DASS-21)";case"GAD7":return"Test Kecemasan Umum (GAD-7)";default:return""}};if(c==="INFO")return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white shadow-xl rounded-xl overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-8 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 flex items-center justify-center mx-auto mb-4",children:e.jsx(b,{className:"h-12 w-12 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Test Kesehatan Mental Komprehensif"}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Evaluasi menyeluruh terhadap kondisi kesehatan mental Anda"})]})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(H,{className:"h-6 w-6 text-blue-600 mr-3"}),"Tentang Test Ini"]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:e.jsxs("p",{className:"text-gray-700 leading-relaxed text-lg",children:["Test ini adalah kombinasi dari tiga instrumen penilaian kesehatan mental yang telah tervalidasi secara klinis:",e.jsx("strong",{children:" PHQ-9"})," untuk mengukur tingkat depresi, ",e.jsx("strong",{children:"DASS-21"})," untuk mengevaluasi depresi, kecemasan, dan stres, serta ",e.jsx("strong",{children:"GAD-7"})," untuk mengidentifikasi gangguan kecemasan umum."]})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Komponen Test"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center mr-3",children:e.jsx(b,{className:"h-5 w-5 text-purple-600"})}),e.jsx("h4",{className:"font-semibold text-purple-900",children:"PHQ-9"})]}),e.jsxs("p",{className:"text-purple-800 text-sm mb-2",children:[e.jsx("strong",{children:"Fokus:"})," Depresi"]}),e.jsxs("p",{className:"text-purple-800 text-sm mb-2",children:[e.jsx("strong",{children:"Jumlah Pertanyaan:"})," 9"]}),e.jsx("p",{className:"text-purple-700 text-sm",children:"Mengukur gejala depresi mayor berdasarkan kriteria DSM-5"})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-yellow-100 flex items-center justify-center mr-3",children:e.jsx(H,{className:"h-5 w-5 text-yellow-600"})}),e.jsx("h4",{className:"font-semibold text-yellow-900",children:"DASS-21"})]}),e.jsxs("p",{className:"text-yellow-800 text-sm mb-2",children:[e.jsx("strong",{children:"Fokus:"})," Depresi, Kecemasan, Stres"]}),e.jsxs("p",{className:"text-yellow-800 text-sm mb-2",children:[e.jsx("strong",{children:"Jumlah Pertanyaan:"})," 21"]}),e.jsx("p",{className:"text-yellow-700 text-sm",children:"Mengevaluasi tiga domain utama kesehatan mental secara komprehensif"})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center mr-3",children:e.jsx(f,{className:"h-5 w-5 text-green-600"})}),e.jsx("h4",{className:"font-semibold text-green-900",children:"GAD-7"})]}),e.jsxs("p",{className:"text-green-800 text-sm mb-2",children:[e.jsx("strong",{children:"Fokus:"})," Kecemasan Umum"]}),e.jsxs("p",{className:"text-green-800 text-sm mb-2",children:[e.jsx("strong",{children:"Jumlah Pertanyaan:"})," 7"]}),e.jsx("p",{className:"text-green-700 text-sm",children:"Mengidentifikasi gejala gangguan kecemasan generalisata"})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(f,{className:"h-5 w-5 text-amber-600 mr-2"}),"Informasi Penting"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(K,{className:"h-5 w-5 text-amber-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-amber-800",children:"Waktu Pengerjaan"}),e.jsxs("p",{className:"text-sm text-amber-700",children:["Total waktu: ",e.jsx("strong",{children:"15 menit"})," untuk menyelesaikan seluruh test (37 pertanyaan)"]})]})]})}),e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(T,{className:"h-5 w-5 text-blue-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"Sistem Penilaian"}),e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Skor 100 = Kondisi mental sangat baik"}),e.jsx("br",{}),"Semakin rendah skor = Memerlukan lebih banyak perhatian"]})]})]})}),e.jsx("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(b,{className:"h-5 w-5 text-purple-400"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"text-sm font-medium text-purple-800",children:"Kerahasiaan"}),e.jsx("p",{className:"text-sm text-purple-700",children:"Semua jawaban Anda bersifat rahasia dan hanya digunakan untuk evaluasi kesehatan mental"})]})]})})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Petunjuk Pengerjaan"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:e.jsxs("ol",{className:"space-y-3 text-gray-700",children:[e.jsxs("li",{className:"flex",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium mr-3",children:"1"}),e.jsxs("span",{children:["Jawablah semua pertanyaan berdasarkan ",e.jsx("strong",{children:"perasaan dan pengalaman Anda dalam 2 minggu terakhir"})]})]}),e.jsxs("li",{className:"flex",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium mr-3",children:"2"}),e.jsx("span",{children:"Pilih opsi yang paling menggambarkan kondisi Anda dengan jujur"})]}),e.jsxs("li",{className:"flex",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium mr-3",children:"3"}),e.jsxs("span",{children:["Setelah memilih jawaban, klik tombol ",e.jsx("strong",{children:'"Selanjutnya"'})," untuk melanjutkan ke pertanyaan berikutnya"]})]}),e.jsxs("li",{className:"flex",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium mr-3",children:"4"}),e.jsxs("span",{children:["Anda dapat kembali ke pertanyaan sebelumnya menggunakan tombol ",e.jsx("strong",{children:'"Sebelumnya"'})]})]}),e.jsxs("li",{className:"flex",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium mr-3",children:"5"}),e.jsxs("span",{children:["Timer akan dimulai setelah Anda klik ",e.jsx("strong",{children:'"Mulai Test"'})]})]})]})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Skala Jawaban"}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 divide-y md:divide-y-0 md:divide-x divide-gray-200",children:ie.map((a,n)=>e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full mx-auto mb-2 flex items-center justify-center text-white font-bold ${n===0?"bg-green-500":n===1?"bg-yellow-500":n===2?"bg-orange-500":"bg-red-500"}`,children:a.value}),e.jsx("div",{className:"font-medium text-gray-900",children:a.label}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:a.text})]},a.value))})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-red-900 mb-3 flex items-center",children:[e.jsx(f,{className:"h-5 w-5 text-red-600 mr-2"}),"Penting untuk Diketahui"]}),e.jsxs("ul",{className:"space-y-2 text-red-800 text-sm",children:[e.jsxs("li",{children:["‚Ä¢ Test ini adalah ",e.jsx("strong",{children:"alat skrining awal"})," dan bukan pengganti diagnosis klinis"]}),e.jsx("li",{children:"‚Ä¢ Hasil test memberikan gambaran umum kondisi kesehatan mental Anda"}),e.jsx("li",{children:"‚Ä¢ Jika hasil menunjukkan gejala yang signifikan, segera konsultasi dengan profesional kesehatan mental"}),e.jsx("li",{children:"‚Ä¢ Dalam kondisi darurat atau ada pikiran untuk menyakiti diri, segera hubungi layanan krisis"})]})]}),"              "]}),e.jsx("div",{className:"mb-8",children:t&&t.id?e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-green-900 mb-2 flex items-center",children:[e.jsx(T,{className:"h-5 w-5 text-green-600 mr-2"}),"Status Login: Aktif"]}),e.jsxs("div",{className:"text-green-800 text-sm space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Nama:"})," ",t.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Student ID:"})," ",t.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Role:"})," ",t.role]}),e.jsx("p",{className:"text-green-700 mt-2",children:"‚úì Anda dapat memulai test sekarang"})]})]}):e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-red-900 mb-2 flex items-center",children:[e.jsx(le,{className:"h-5 w-5 text-red-600 mr-2"}),"Status Login: Tidak Aktif"]}),e.jsxs("div",{className:"text-red-800 text-sm",children:[e.jsx("p",{children:"Anda harus login terlebih dahulu sebelum dapat memulai test."}),e.jsx("p",{className:"mt-2",children:"Hasil test akan disimpan dengan Student ID Anda untuk tracking dan analisis."})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{onClick:()=>{if(!t||!t.id){alert("Silakan login terlebih dahulu sebelum memulai test!");return}w("PHQ9"),pe()},disabled:!t||!t.id,className:`px-8 py-4 font-semibold rounded-lg shadow-lg transition-all duration-200 transform ${t&&t.id?"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 hover:scale-105":"bg-gray-400 text-gray-600 cursor-not-allowed"}`,children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx($,{className:"h-5 w-5 mr-2"}),t&&t.id?"Mulai Test Sekarang":"Login Required"]})}),e.jsx("button",{onClick:()=>B("/app/mental-health"),className:"px-8 py-4 bg-gray-600 text-white font-semibold rounded-lg shadow-lg hover:bg-gray-700 transition-colors",children:"Kembali ke Dashboard"})]})]})]})})});if(c==="PROCESSING")return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"bg-white shadow-xl rounded-xl p-8 text-center",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative mx-auto w-20 h-20",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-600 rounded-full animate-pulse"}),e.jsx("div",{className:"relative w-full h-full bg-white rounded-full flex items-center justify-center",children:e.jsx(b,{className:"h-10 w-10 text-blue-600 animate-bounce"})})]})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Menganalisis Hasil Test"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Sistem sedang memproses jawaban Anda dan menyiapkan analisis komprehensif..."}),e.jsxs("div",{className:"flex justify-center space-x-2 mb-6",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-bounce"}),e.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),e.jsxs("div",{className:"text-left space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-green-500 mr-2"}),e.jsx("span",{children:"Mengumpulkan data jawaban"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx(T,{className:"h-4 w-4 text-green-500 mr-2"}),e.jsx("span",{children:"Menghitung skor per domain"})]}),e.jsxs("div",{className:"flex items-center text-sm text-blue-600",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-blue-600 rounded-full border-t-transparent animate-spin mr-2"}),e.jsx("span",{children:"Menyusun analisis komprehensif"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 rounded-full mr-2"}),e.jsx("span",{children:"Membuat rekomendasi"})]})]})]})})});if(c==="RESULTS"){const a=ee();return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white shadow-xl rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 px-6 py-8",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 flex items-center justify-center mb-4",children:e.jsx(T,{className:"h-12 w-12 text-white"})})}),e.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-2",children:"Test Kesehatan Mental Selesai"}),e.jsx("p",{className:"text-green-100 text-center",children:"Hasil analisis komprehensif telah dibuat berdasarkan tiga aspek kesehatan mental"})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-32 h-32 rounded-full bg-gradient-to-br from-blue-100 to-green-100 mb-4",children:e.jsx("div",{className:"text-4xl font-bold text-gray-800",children:a.overall})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Skor Kesehatan Mental Keseluruhan"}),e.jsx("p",{className:"text-gray-600",children:a.overall>=85?"Sangat Baik":a.overall>=70?"Baik":a.overall>=55?"Perlu Perhatian":a.overall>=40?"Memerlukan Bantuan":"Memerlukan Bantuan Segera"}),e.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Sistem penilaian: 100 = Normal/Sehat, semakin rendah = perlu lebih banyak perhatian"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[{label:"Depresi (PHQ-9)",score:a.phq9,maxScore:27,icon:b,color:"purple"},{label:"Depresi (DASS-21)",score:a.depression,maxScore:42,icon:Pe,color:"blue"},{label:"Kecemasan (DASS-21)",score:a.anxiety,maxScore:42,icon:f,color:"yellow"},{label:"Stres (DASS-21)",score:a.stress,maxScore:42,icon:H,color:"red"},{label:"Kecemasan Umum (GAD-7)",score:a.gad7,maxScore:21,icon:b,color:"indigo"}].map((n,l)=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(n.icon,{className:`h-5 w-5 text-${n.color}-600 mr-2`}),e.jsx("h3",{className:"font-medium text-gray-900",children:n.label})]}),e.jsxs("div",{className:"text-2xl font-bold text-gray-800",children:[n.score,"/",n.maxScore]}),e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"0 = Normal/Sehat"}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:e.jsx("div",{className:`bg-${n.color}-600 h-2 rounded-full`,style:{width:`${n.score/n.maxScore*100}%`}})})]},l))}),"              ",e.jsxs("div",{className:"space-y-6 mb-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:[e.jsxs("h3",{className:"text-2xl font-bold mb-2 flex items-center",children:[e.jsx(b,{className:"h-6 w-6 mr-3"}),"Analisis & Rekomendasi Komprehensif"]}),e.jsx("p",{className:"text-blue-100",children:"Hasil evaluasi berdasarkan PHQ-9, DASS-21, dan GAD-7 dengan rekomendasi tindakan yang dipersonalisasi"})]}),e.jsxs("div",{className:`rounded-xl p-6 border-l-4 ${a.overall>=85?"bg-green-50 border-green-500":a.overall>=70?"bg-yellow-50 border-yellow-500":a.overall>=55?"bg-orange-50 border-orange-500":"bg-red-50 border-red-500"}`,children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${a.overall>=85?"bg-green-500":a.overall>=70?"bg-yellow-500":a.overall>=55?"bg-orange-500":"bg-red-500"}`}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Status Kesehatan Mental"})]}),e.jsx("p",{className:`text-lg font-medium mb-2 ${a.overall>=85?"text-green-800":a.overall>=70?"text-yellow-800":a.overall>=55?"text-orange-800":"text-red-800"}`,children:a.overall>=85?"üíö KESEHATAN MENTAL SANGAT BAIK":a.overall>=70?"‚úÖ KESEHATAN MENTAL BAIK":a.overall>=55?"‚ö†Ô∏è MEMERLUKAN PERHATIAN KHUSUS":"üö® MEMERLUKAN BANTUAN SEGERA"}),e.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:a.overall>=85?"Anda memiliki kesehatan mental yang sangat baik dengan resiliensi tinggi. Kemampuan mengelola stres dan emosi berada pada level optimal.":a.overall>=70?"Kondisi kesehatan mental Anda cukup baik, namun ada beberapa area yang memerlukan perhatian untuk mencegah penurunan lebih lanjut.":a.overall>=55?"Terdapat gejala yang signifikan dan memerlukan intervensi profesional. Kondisi ini dapat mempengaruhi fungsi sehari-hari dan kualitas hidup.":"Kondisi ini menunjukkan gejala berat yang memerlukan perhatian medis dan psikologis segera untuk mencegah komplikasi lebih lanjut."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center mr-3",children:e.jsx(b,{className:"h-5 w-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Depresi (PHQ-9)"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[a.phq9,"/27 - ",a.phq9<=4?"Minimal":a.phq9<=9?"Ringan":a.phq9<=14?"Sedang":a.phq9<=19?"Sedang-Berat":"Berat"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-3",children:e.jsx("div",{className:`h-2 rounded-full ${a.phq9<=4?"bg-green-500":a.phq9<=9?"bg-yellow-500":a.phq9<=14?"bg-orange-500":"bg-red-500"}`,style:{width:`${a.phq9/27*100}%`}})}),e.jsx("p",{className:"text-sm text-gray-600",children:a.phq9<=4?"Tidak ada atau minimal gejala depresi. Mood dan motivasi dalam kondisi baik.":a.phq9<=9?"Gejala depresi ringan. Mungkin mengalami penurunan mood sesekali.":a.phq9<=14?"Gejala depresi sedang. Mempengaruhi aktivitas sehari-hari.":a.phq9<=19?"Gejala depresi sedang-berat. Gangguan signifikan pada fungsi harian.":"Gejala depresi berat. Memerlukan intervensi segera."})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-yellow-100 flex items-center justify-center mr-3",children:e.jsx(f,{className:"h-5 w-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Kecemasan (DASS-21)"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[a.anxiety,"/42 - ",a.anxiety<=7?"Normal":a.anxiety<=9?"Ringan":a.anxiety<=14?"Sedang":a.anxiety<=19?"Berat":"Sangat Berat"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-3",children:e.jsx("div",{className:`h-2 rounded-full ${a.anxiety<=7?"bg-green-500":a.anxiety<=9?"bg-yellow-500":a.anxiety<=14?"bg-orange-500":"bg-red-500"}`,style:{width:`${a.anxiety/42*100}%`}})}),e.jsx("p",{className:"text-sm text-gray-600",children:a.anxiety<=7?"Level kecemasan dalam rentang normal.":a.anxiety<=9?"Kecemasan ringan, dapat dikelola dengan teknik relaksasi.":a.anxiety<=14?"Kecemasan sedang, pertimbangkan terapi atau konseling.":"Kecemasan berat, memerlukan bantuan profesional."})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center mr-3",children:e.jsx(H,{className:"h-5 w-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Stres (DASS-21)"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[a.stress,"/42 - ",a.stress<=14?"Normal":a.stress<=18?"Ringan":a.stress<=25?"Sedang":a.stress<=33?"Berat":"Sangat Berat"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-3",children:e.jsx("div",{className:`h-2 rounded-full ${a.stress<=14?"bg-green-500":a.stress<=18?"bg-yellow-500":a.stress<=25?"bg-orange-500":"bg-red-500"}`,style:{width:`${a.stress/42*100}%`}})}),e.jsx("p",{className:"text-sm text-gray-600",children:a.stress<=14?"Level stres dalam rentang normal.":a.stress<=18?"Stres ringan, perlu perbaikan manajemen stres.":a.stress<=25?"Stres sedang, butuh strategi coping yang lebih efektif.":"Stres berat, dapat mengganggu fungsi fisik dan mental."})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-5 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center mr-3",children:e.jsx(b,{className:"h-5 w-5 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Kecemasan Umum (GAD-7)"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[a.gad7,"/21 - ",a.gad7<=4?"Minimal":a.gad7<=9?"Ringan":a.gad7<=14?"Sedang":"Berat"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-3",children:e.jsx("div",{className:`h-2 rounded-full ${a.gad7<=4?"bg-green-500":a.gad7<=9?"bg-yellow-500":a.gad7<=14?"bg-orange-500":"bg-red-500"}`,style:{width:`${a.gad7/21*100}%`}})}),e.jsx("p",{className:"text-sm text-gray-600",children:a.gad7<=4?"Tidak ada atau minimal kecemasan umum.":a.gad7<=9?"Kecemasan umum ringan, dapat dikelola dengan self-care.":a.gad7<=14?"Kecemasan umum sedang, pertimbangkan konseling.":"Kecemasan umum berat, memerlukan evaluasi klinis."})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 px-6 py-4",children:e.jsxs("h4",{className:"text-xl font-bold text-white flex items-center",children:[e.jsx(T,{className:"h-5 w-5 mr-2"}),"Rekomendasi Tindakan"]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:"üè• Langkah Segera"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("ul",{className:"space-y-2 text-sm text-gray-700",children:a.overall>=85?e.jsxs(e.Fragment,{children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Pertahankan gaya hidup sehat yang sudah berjalan"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Lakukan asesmen berkala setiap 6 bulan"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Jadilah role model kesehatan mental bagi orang lain"]})]}):a.overall>=70?e.jsxs(e.Fragment,{children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-3"}),"Evaluasi dan perbaiki area yang bermasalah"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-3"}),"Tingkatkan aktivitas self-care harian"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-3"}),"Asesmen lanjutan dalam 3 bulan"]})]}):a.overall>=55?e.jsxs(e.Fragment,{children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-3"}),e.jsx("strong",{children:"WAJIB konsultasi dengan psikolog/konselor dalam 1-2 minggu"})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-3"}),"Pertimbangkan psikoterapi (CBT, DBT, atau lainnya)"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mr-3"}),"Monitoring ketat oleh profesional kesehatan mental"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-3"}),e.jsx("strong",{children:"SEGERA kunjungi psikiater atau layanan darurat mental health"})]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-3"}),"Evaluasi untuk kemungkinan medikasi"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-3"}),"Sistem dukungan 24/7 harus aktif"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-3"}),"Hospitalisasi mungkin diperlukan jika ada risiko tinggi"]})]})})})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:"üßò Strategi Self-Care"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h6",{className:"font-medium text-blue-900 mb-2",children:"üí§ Pola Tidur"}),e.jsx("p",{className:"text-sm text-blue-800",children:"7-9 jam per malam, jadwal konsisten"})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("h6",{className:"font-medium text-green-900 mb-2",children:"üèÉ‚Äç‚ôÇÔ∏è Aktivitas Fisik"}),e.jsx("p",{className:"text-sm text-green-800",children:"Minimal 30 menit, 3x seminggu"})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[e.jsx("h6",{className:"font-medium text-yellow-900 mb-2",children:"ü•ó Nutrisi"}),e.jsx("p",{className:"text-sm text-yellow-800",children:"Diet seimbang, hindari alkohol berlebihan"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[e.jsx("h6",{className:"font-medium text-purple-900 mb-2",children:"üß† Mindfulness"}),e.jsx("p",{className:"text-sm text-purple-800",children:"Meditasi 10-15 menit harian"})]})]})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("h5",{className:"text-lg font-semibold text-red-900 mb-3 flex items-center",children:"üìû Kontak Darurat"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-red-800 mr-2",children:"Crisis Hotline:"}),e.jsx("span",{className:"text-red-700",children:"119 ext 8"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-red-800 mr-2",children:"Halo Kemkes:"}),e.jsx("span",{className:"text-red-700",children:"1500-567"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-red-800 mr-2",children:"Jangan Bunuh Diri:"}),e.jsx("span",{className:"text-red-700",children:"021-9696-9293"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-red-800 mr-2",children:"Emergency:"}),e.jsx("span",{className:"text-red-700",children:"112"})]})]})]}),e.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[e.jsx("h5",{className:"text-lg font-semibold text-indigo-900 mb-3",children:"üìã Jadwal Follow-up"}),e.jsxs("div",{className:"text-sm text-indigo-800",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Asesmen ulang:"})," ",a.overall>=70?"3 bulan":a.overall>=55?"1 bulan":"2 minggu"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Target perbaikan skor:"})," +10-15 poin dalam 3 bulan"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Indikator keberhasilan:"})," Perbaikan fungsi sehari-hari"]})]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-4",children:e.jsxs("p",{className:"text-xs text-gray-500 italic",children:[e.jsx("strong",{children:"Catatan:"})," Hasil ini adalah asesmen awal dan bukan diagnosis klinis. Untuk diagnosis dan treatment plan yang akurat, konsultasi dengan profesional kesehatan mental tetap diperlukan."]})})]}),"                "]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("button",{onClick:()=>B("/app/mental-health"),className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg shadow-sm hover:bg-blue-700 transition-colors",children:"Lihat Dashboard Kesehatan Mental"}),e.jsx("button",{onClick:()=>window.print(),className:"px-6 py-3 bg-gray-600 text-white font-medium rounded-lg shadow-sm hover:bg-gray-700 transition-colors",children:"Cetak Hasil"})]})]})]})})})}if(L)return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-xl max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(K,{className:"h-8 w-8 text-red-600 mr-2"}),e.jsx("h2",{className:"text-2xl font-bold text-red-600",children:"Waktu Habis!"})]}),e.jsx("p",{className:"text-gray-700 mb-4 text-center",children:"Waktu untuk test telah berakhir. Jawaban yang sudah Anda berikan akan diproses sekarang."})]})});const N=V(),De=Q();return e.jsxs("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"bg-white shadow-lg rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-white",children:"Test Kesehatan Mental Komprehensif"}),e.jsx("p",{className:"text-purple-100 text-sm mt-1",children:Ie()})]}),e.jsxs("div",{className:"text-purple-100 flex items-center",children:[e.jsx(K,{className:"w-4 h-4 mr-1.5"}),e.jsx("div",{className:`px-3 py-1.5 rounded-md font-mono font-medium ${Te()}`,children:Ae(U)})]})]}),"            ",e.jsx("div",{className:"mt-4 bg-white/10 rounded-lg p-3 text-xs",children:e.jsxs("div",{className:"flex items-center justify-between text-purple-100",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"font-semibold",children:"Debug Info:"}),e.jsxs("span",{children:["User ID: ",(t==null?void 0:t.id)||"Not logged in"]}),e.jsxs("span",{children:["Name: ",(t==null?void 0:t.name)||"N/A"]}),e.jsxs("span",{children:["Role: ",(t==null?void 0:t.role)||"N/A"]})]}),e.jsx("div",{className:"text-yellow-200 font-semibold",children:J?e.jsxs("span",{className:"text-green-200",children:["‚úÖ Student ID: ",J]}):z?e.jsxs("span",{className:"text-red-200",children:["‚ùå ",z]}):e.jsx("span",{className:"text-yellow-200",children:"üîÑ Resolving student ID..."})})]})}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-xs text-purple-100 mb-1",children:[e.jsxs("span",{children:["Pertanyaan ",g+1," dari ",N.length]}),e.jsxs("span",{children:["Total Progress: ",Math.round(se()),"%"]})]}),e.jsx("div",{className:"w-full bg-purple-400 h-2 rounded-full",children:e.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-300",style:{width:`${se()}%`}})})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-8 h-8 rounded-full bg-purple-100 text-purple-800 flex items-center justify-center font-semibold text-sm",children:g+1}),e.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:[c," - Pertanyaan ",g+1," dari ",N.length]})]}),"                ",e.jsxs("button",{onClick:je,className:"text-sm text-gray-500 hover:text-gray-700 flex items-center",children:[e.jsx(le,{className:"w-4 h-4 mr-1"}),"Keluar"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:typeof N[g]=="object"?N[g].id:N[g]}),typeof N[g]=="object"&&e.jsx("p",{className:"text-base text-gray-600 italic",children:N[g].en})]}),e.jsx("div",{className:"space-y-3",children:ie.map(a=>e.jsx("div",{className:"relative",children:e.jsx("button",{onClick:()=>we(a.value),className:`w-full p-4 text-left border-2 rounded-lg transition-all duration-200 hover:border-purple-300 hover:bg-purple-50 ${De[g]===a.value?"border-purple-500 bg-purple-50":"border-gray-200 bg-white"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:a.label}),e.jsx("p",{className:"text-sm text-gray-500",children:a.text})]}),e.jsx("div",{className:"ml-auto text-lg font-semibold text-gray-400",children:a.value})]})})},a.value))})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:ye,disabled:!0,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-400 cursor-not-allowed",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2"}),"Sebelumnya (Tidak Tersedia)"]}),e.jsxs("button",{onClick:Ne,disabled:!G(),className:`flex items-center px-4 py-2 text-sm font-medium rounded-md ${G()?"text-white bg-purple-600 hover:bg-purple-700 shadow-sm":"text-gray-400 bg-gray-200 cursor-not-allowed"}`,children:[c==="GAD7"&&g===v.length-1?"Selesai":"Selanjutnya",G()?e.jsx($,{className:"w-4 h-4 ml-2"}):e.jsx("div",{className:"w-4 h-4 ml-2 text-xs",children:"!"})]})]}),!Z()&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center text-sm text-yellow-800",children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"Silakan pilih jawaban untuk melanjutkan ke pertanyaan berikutnya"]})})]})]}),e.jsx("div",{className:"mt-6 bg-white rounded-lg p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:`flex items-center px-3 py-1 rounded-full text-sm ${c==="PHQ9"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-600"}`,children:[e.jsx(O,{className:"w-4 h-4 mr-1"}),"PHQ-9 (Depresi)"]}),e.jsx($,{className:"w-4 h-4 text-gray-400"}),"            ",e.jsxs("div",{className:`flex items-center px-3 py-1 rounded-full text-sm ${c==="DASS21"?"bg-purple-100 text-purple-800":c==="GAD7"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:[c==="GAD7"?e.jsx(O,{className:"w-4 h-4 mr-1"}):e.jsx(K,{className:"w-4 h-4 mr-1"}),"DASS-21 (Depresi, Kecemasan, Stres)"]}),e.jsx($,{className:"w-4 h-4 text-gray-400"}),"            ",e.jsxs("div",{className:`flex items-center px-3 py-1 rounded-full text-sm ${c==="GAD7"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-600"}`,children:[c==="GAD7"?e.jsx(O,{className:"w-4 h-4 mr-1"}):e.jsx(K,{className:"w-4 h-4 mr-1"}),"GAD-7 (Kecemasan Umum)"]})]})}),e.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-medium text-blue-800 mb-2 flex items-center",children:[e.jsx(f,{className:"w-4 h-4 text-blue-600 mr-2"}),"Petunjuk"]}),"          ",e.jsxs("ul",{className:"space-y-1 text-sm text-blue-700",children:[e.jsx("li",{children:"‚Ä¢ Test ini terdiri dari 3 bagian: PHQ-9 (9 pertanyaan), DASS-21 (21 pertanyaan), dan GAD-7 (7 pertanyaan)"}),e.jsx("li",{children:"‚Ä¢ Total waktu: 15 menit untuk semua test"}),e.jsx("li",{children:"‚Ä¢ Jawablah berdasarkan perasaan Anda dalam 2 minggu terakhir"}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"PENTING:"})," Anda tidak dapat kembali ke soal sebelumnya setelah memilih jawaban"]}),e.jsx("li",{children:"‚Ä¢ Pastikan jawaban Anda sudah tepat sebelum melanjutkan ke soal berikutnya"}),e.jsx("li",{children:"‚Ä¢ Sistem penilaian terbalik: 100 = kondisi mental sangat baik, semakin rendah = perlu lebih banyak perhatian"})]})]})]}),oe&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(f,{className:"w-6 h-6 text-red-500 mr-3"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Konfirmasi Keluar"})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Apakah Anda yakin ingin keluar dari test? Semua progress akan hilang dan Anda perlu mengulang dari awal."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:ke,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Batal"}),e.jsx("button",{onClick:fe,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700",children:"Ya, Keluar"})]})]})})]})}export{Le as default};
